<article class="article">
  <h1>C для начинающих (теория и задачи)</h1>
  <p>Конспект курса</p>
  <p><a href="https://stepik.org/course/57680">https://stepik.org/course/57680</a></p>
</article>


<!-- Содержание -->
<article class="article">
  <h2>Содержание</h2>

  <p><a href="#about">О курсе</a></p>
  <ol>
    <li>
      <h4><a href="#p1">Содержание курса</a></h4>
      <ol>
        <li><a href="#p1.1">Как учиться на курсе</a></li>
        <li><a href="#p1.2">Устанавливаем программы</a></li>
        <li><a href="#p1.3">Справочник</a></li>
      </ol>
    </li>
    <li>
      <h4><a href="#p2">Введение</a></h4>
      <ol>
        <li><a href="#p2.1">Что такое программирование</a></li>
        <li><a href="#p2.2">Файловая система Linux</a></li>
        <li><a href="#p2.3">Командная строка Linux</a></li>
        <li><a href="#p2.4">gcc</a></li>
      </ol>
    </li>
    <li>
      <h4><a href="#p3">Первые программы на С. Типы данных</a></h4>
      <ol>
        <li><a href="#p3.1">Hello, world!</a></li>
        <li><a href="#p3.2">\n</a></li>
        <li><a href="#p3.3">2+3</a></li>
        <li><a href="#p3.4">float</a></li>
      </ol>
    </li>

  </ol>
</article>


<!-- О курсе -->
<article class="article">
  <div class="anchor" id="about"></div>
  <h3>О курсе</h3>

  <p>Авторы <strong>Татьяна Дербышева</strong> и <strong>Татьяна Овсянникова</strong></p>
  <p>Синтаксис языка Си, в том числе работа с указателями и динамической памятью. Объяснения на пальцах. Много задач.</p>
  <p>Алгоритмы (чуть-чуть). Задачи на "подумать".</p>
  <p>Инструменты программиста: работа в командной строке UNIХ, тестирование и отладка, система контроля версий git</p>
  <p>Читается на 1 курсе МФТИ.</p>
  <p>Предназначен как для студентов и школьников, которые еще ни разу не писали программ, так и для желающих изучить особенности языка Си (пропускайте части "для начинающих").</p>
  <p>Альтернативный курс: <a href="https://stepik.org/course/55690">https://stepik.org/course/55690</a></p>
  <p>Продолжение курса: <a href="https://stepik.org/course/65259">https://stepik.org/course/65259</a></p>
</article>


<!-- 1. Содержание курса -->
<article class="article">
  <div class="anchor" id="p1"></div>
  <h3>1. Содержание курса</h3>
</article>


<!-- 1.1 Как учиться на курсе -->
<article class="article">
  <div class="anchor" id="p1.1"></div>
  <h3>1.1 Как учиться на курсе</h3>

  <p>Курс посвящен программированию на языке Си. Он подойдет как уже программирующим на каком-либо языке, так и для полных новичков.</p>
  <p>К концу курса вы научитесь писать небольшие (до 500 строк) программы на языке Си с использованием динамической памяти, пользоваться средствами отладки и контроля памяти.</p>
  <p>Занимайтесь регулярно. Не откладывайте решение задач на конец семестра.</p>
</article>


<!-- 1.2 Устанавливаем программы -->
<article class="article">
  <div class="anchor" id="p1.2"></div>
  <h3>1.2 Устанавливаем программы</h3>

  <h4>Что можно установить для прохождения курса</h4>
  <ul>
    <li>текстовый редактор, в котором будем писать текст программы и создавать файлы с тестовыми данными,</li>
    <li>командная строка Linux/MAC,</li>
    <li>компилятор,</li>
    <li>инструмент для отладки работы с памятью valgrind,</li>
    <li>отладчик </li>
  </ul>

  <h4>Это можно получить, выбрав один из вариантов, по убыванию "крутости":</h4>
  <ol>
    <li>Linux на отдельном компьютере или дополнительной операционной системой на вашем компьютере.</li>
    <li>Linux в качестве виртуальной машины. </li>
    <li>UNIX-терминал + IDE (например, WSL + Clion в Windows).</li>
    <li><strong>UNIX-терминал + текстовый редактор (например WSL + VSCode)</strong> - советуем вам остановиться на этом варианте.</li>
    <li>Онлайн-IDE с valgrind (например, https://replit.com/languages/c или https://www.onlinegdb.com/online_c_compiler).</li>
  </ol>

  <p>Для новичков главное простота и удобство использования. Только нужные функции и ничего лишнего.</p>
  <p>Мы не рекомендуем начинающим использовать IDE (Clion, MS VS или XCode). В курсе надо написать много маленьких программ. IDE предназначены для длительной работой над 1 программой, расположенной в нескольких файлах.</p>
  <p>Нам хватит текстового редактора с показом номеров строк и подсветкой синтаксиса языка.</p>
</article>


<!-- 1.3 Справочник -->
<article class="article">
  <div class="anchor" id="p1.3"></div>
  <h3>1.3 Справочник</h3>
</article>


<!-- 2. Введение -->
<article class="article">
  <div class="anchor" id="p2"></div>
  <h3>2. Введение</h3>
</article>


<!-- 2.1 Что такое программирование -->
<article class="article">
  <div class="anchor" id="p2.1"></div>
  <h3>2.1 Что такое программирование</h3>

  <h4>Представление данных в компьютере</h4>
  <p>Компьютер всю информацию хранит в себе в виде чисел. Текст, музыка, изображения, видео - все закодировано в виде чисел.</p>
  <p>Команды компьютера тоже числа. Других компьютер не понимает. Раньше программировали только в этих числах (машинных кодах). Программа «Hello, world!» для процессора архитектуры x86 в шестнадцатеричном представлении</p>
  <code>BB 11 01 B9 0D 00 B4 0E 8A 07 43 CD 10 E2 F9 CD 20 48 65 6C 6C 6F 2C 20 57 6F 72 6C 64 21</code>
  <p>Человек не компьютер. Ему сложно думать числами. Поэтому придумали язык ассемблера и написали программу-транслятор, который переводил с языка ассемблера в машинные коды. Ассемблер называют язык низкого уровня. Он ближе к компьютеру, чем к человеку.</p>
<pre>
XXXX:0100     mov     bx, 0111h       ; поместить в bx смещение строки HW
XXXX:0103     mov     cx, 000Dh       ; поместить в cx длину строки HW
XXXX:0106     mov     ah, 0Eh         ; поместить в ah номер функции прерывания 10h
XXXX:0108     mov     al, [bx]        ; поместить в al значение ячейки памяти, адрес которой находится в bx
XXXX:010A     inc     bx              ; перейти к следующему байту строки (увеличить смещение на 1)
XXXX:010B     int     10h             ; вызов прерывания 10h
XXXX:010D     loop    0108            ; уменьшить cx на 1 и, если результат≠0, то перейти по адресу 0108
XXXX:010F     int     20h             ; прерывание 20h: завершить программу
XXXX:0111 HW  db      'Hello, World!' ; строка, которую требуется напечатать
</pre>
  <p>Чуть понятнее. mov от слова move, inc от слова increment. Программировать еще тяжело.</p>
  <p>Над ассемблером пишут еще один язык, который ближе и понятнее человеку. Называют это язык высокого уровня. Язык С (читают "язык Си") - один из языков высокого уровня.</p>
  <p>Программа, которая печатает Hello, world! на языке С. Потом разберем подробно что делает каждая строка.</p>
<pre>
#include &lt;stdio.h&gt; // использовать стандартные функции ввода-вывода

int main()              // здесь начинается программа
{
  printf("Hello, world!\n");  // печать строки Hello, world!

  return 0;             // конец программы
}
</pre>
  <p>Программирование - это запись решения задачи на специальном формальном языке, который понимает компьютер, например Си. Вы переводите решение задачи с языка, на котором вы думаете (например, русского), на язык Си.</p>
  <p>В языке программирования мало слов. Они называются ключевые слова.</p>

  <h4>Ключевые слова языка Си</h4>
<pre>
auto  continue else   for  long     signed switch  void
break default  enum   goto register sizeof typedef while
case  do       extern if   return   static union
char  double   float  int  short    struct unsigned
</pre>

  <h4>Этапы сборки программы</h4>
  <p>Программа, написанная на языке си в текстовом формате в файле hello.c, обрабатывается компилятором и в итоге получается исполняемый файл hello.exe в бинарном формате</p>
  <ol>
    <li>Препроцессор выполняет свои директивы и производит замену в тексте программы. На выходе получается программа на языке Си в текстовом формате в файле hello.i</li>
    <li>Компилятор переводит программу в объектный модуль. На вывходе получается файл hello.o в бинарном формате</li>
    <li>Линкер связывает в один исполняемый файл все объектные модули и необходимые библиотеки. Исполняемый файл содержит машинные команды. Набор машинных команд зависит от архитектуры компьютера и операционной системы. На выходе получается файл hello.exe. Файл созданный на Windows не будет исполняться в Unix и наоборот</li>
  </ol>
</article>


<!-- 2.2 Файловая система Linux -->
<article class="article">
  <div class="anchor" id="p2.2"></div>
  <h3>2.2 Файловая система Linux</h3>

  <p>Создадим файл hello.c с текстом программы</p>

  <h4>Разница между путями Windows и Linux</h4>
  <p>Путь в Windows:</p>
  <code>C:\work\stud\conline\1int\hello.c</code>
  <ul>
    <li>есть диски C, D, и так далее, сколько установили. От диска начинается полный путь</li>
    <li>директории разделены \</li>
  </ul>
  <P>Путь в Linux:</P>
  <code>/home/taty/conline/1int/hello.c</code>
  <ul>
    <li>нет дисков, путь начинается от корня /</li>
    <li>директории разделены /</li>
  </ul>

  <h4>Абсолютный и относительный путь</h4>
  <h4>Абсолютный путь</h4>
  <p>В Linux начинается с /</p>
  <code>/mnt/c/work/stud</code>
  <p>В Windows начинается  с \ или с имени диска</p>
  <code>C:\work\stud\conline\1int\hello.c</code>
  <code>\work\stud\conline\1int\hello.c</code>

  <h4>Относительный путь</h4>
  <p>Задается относительно текущей директории (мы в ней находимся).</p>
  <ul>
    <li>.. - родительская директория (на 1 директорию вверх)</li>
    <li>. - текущая директория</li>
  </ul>
</article>


<!-- 2.3 Командная строка Linux -->
<article class="article">
  <div class="anchor" id="p2.3"></div>
  <h3>2.3 Командная строка Linux</h3>

  <h4>pwd</h4>
  <p>print working directory. Выводит путь к текущей директории</p>

  <h4>ls</h4>
  <p>list. Выводит содержимое текущей директории</p>

  <h4>cd директория</h4>
  <p>change directory. Переходит в указанную директорию</p>

  <h4>cat файл</h4>
  <p>Выводит содержимое файла</p>

  <h4>Права доступа</h4>
  <p>drwxrwxrwx описывает права доступа к директории или файлу</p>
  <p>d или - директория или файл</p>
  <p>r или - Read. Можно читать или нет</p>
  <p>w или - Write. Можно записать или нет</p>
  <p>x или - eXecute. Можно запускать или нет</p>

  <p>Чтобы в директории можно было создать файл, у вас должны быть права на запись в этой директории.</p>

  <h4>chmod</h4>
  <p>change mode. Изменяет права доступа к объекту</p>
  <p>Разрешить всем изменять файл hello.c:</p>
  <code>chmod -w hello.c</code>
</article>


<!-- 2.4 gcc -->
<article class="article">
  <div class="anchor" id="p2.4"></div>
  <h3>2.4 gcc</h3>
  <code>gcc -o hello.exe hello.c</code>
  <p>Компилятор gcc скомпилирует программу из файла hello.c и создаст исполняемый файл hello.exe</p>
  <p>Чтобы запустить файл нужно указать путь к нему</p>
  <code>./hello</code>
  <p>Можно при компиляции не указывать опцию -o имя_файла. Тогда будет создан исполняемый файл с именем a.exe</p>
  <p>Компилятор может подсказывать, где у вас в программе может быть логическая ошибка и какое место ему кажется подозрительным.</p>
  <p>Для этого компилируемся с аргументами -Wall -Wextra. W - от слова warning (предупреждение). Просим показывать все предупреждения и еще больше предупреждений!</p>
  <code>gcc -Wall -Wextra hello.c</code>
</article>


<!-- 3. Первые программы на С. Типы данных -->
<article class="article">
  <div class="anchor" id="p3"></div>
  <h3>3. Первые программы на С. Типы данных</h3>
</article>


<!-- 3.1 Hello, world! -->
<article class="article">
  <div class="anchor" id="p3.1"></div>
  <h3>3.1 Hello, world!</h3>
</article>

