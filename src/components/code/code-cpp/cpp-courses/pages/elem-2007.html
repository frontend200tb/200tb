<article class="article">
  <h1>2007 Базовые функции C++</h1>
  <p>Конспект видео курса</p>
  <p>8 уроков. Длительность 3ч 48м.</p>
</article>


<!-- Содержание -->
<article class="article">
  <h3>Содержание</h3>

  <p><a href="#p0">Урок 0</a></p>
  <p><a href="#p1">Урок 1. Вводный</a></p>
  <p><a href="#p2">Урок 2. Переменные</a></p>
  <p><a href="#p3">Урок 3. Логика</a></p>
  <p><a href="#p4">Урок 4. Циклы</a></p>
  <p><a href="#p5">Урок 5. Массивы</a></p>
  <p><a href="#p6">Урок 6. Ссылки</a></p>
  <p><a href="#p7">Урок 7. Функции</a></p>
  <p><a href="#p8">Урок 8. Крестики-нолики</a></p>

</article>


<!-- Урок 0 -->
<article class="article">
  <div class="anchor" id="p0"></div>
  <h3>Урок 0</h3>

  <p>Для прохождения курса будем использовать Dev-C++ 4.9.9.2.</p>

</article>


<!-- Урок 1. Вводный -->
<article class="article">
  <div class="anchor" id="p1"></div>
  <h3>Урок 1. Вводный</h3>

  <p>Напишем первую программу</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  cout &lt;&lt; "Hello World!";
}
</pre>

  <p>Если консоль сама закрывается, то можно использовать несколько методов, чтобы оставить ее открытой до нажатия на клавишу.</p>
  <p>Системная команда PAUSE из библиотеки iostream для задержки консольного окна.</p>
<pre>
#include &lt;iostream&gt;

int main() {
  cout &lt;&lt; "Hello World!";
  system("PAUSE");
}
</pre>
  <p>В результате октроется консоль и мы увидим фразу</p>
  <code>Для продолжения нажмите любую клавишу . . .</code>
  <p>Консоль будет ожидать нажатия клавиши, прежде чем закрыться.</p>
  <p>Можно задержать консоль и без вывода этой фразы.</p>
<pre>
#include &lt;iostream&gt;

int main() {
  cout &lt;&lt; "Hello World!";
  system("PAUSE >> void");
}
</pre>

  <p>Функция getchar() из библиотеки stdio.h для задержки консольного окна</p>
<pre>
#include &lt;iostream&gt;
#include &lt;stdio.h&gt;

using namespace std;

int main() {
  cout &lt;&lt; "Hello World!";
  getchar();
}
</pre>

  <p>Функция getch() из библиотеки conio.h для задержки консольного окна</p>
<pre>
#include &lt;iostream&gt;
#include &lt;conio.h&gt;

using namespace std;

int main() {
  cout &lt;&lt; "Hello World!";
  getch();
}
</pre>
</article>


<!-- Урок 2. Переменные -->
<article class="article">
  <div class="anchor" id="p2"></div>
  <h3>Урок 2. Переменные</h3>

  <p>Объявление переменной и инициализация переменной</p>
  <code>int x;</code>
  <code>x = 5;</code>

  <p>Можно в одной строчке объявить и инициализировать переменную</p>
  <code>int x = 5;</code>

  <p>Выведем значение переменной, используя функцию printf из библиотеки stdio.h</p>
<pre>
#include &lt;stdio.h&gt;

using namespace std;

int main() {
  int x = 5;
  printf("%i", x);
}
</pre>

  <p>Добавим еще одну переменную и выведем ее</p>
<pre>
#include &lt;stdio.h&gt;

using namespace std;

int main() {
  int x = 5;
  int y = x + 5;
  printf("%i", y);
}
</pre>

  <p>Объявим переменную с плавающей точкой.</p>
<pre>
#include &lt;stdio.h&gt;

using namespace std;

int main() {
  float x = 5.5;
  printf("%f", x);
}
</pre>

  <p>Объявим переменную двойной точности</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  double x = 5.56;
  cout &lt;&lt; x;
}
</pre>

  <p>Объявим символьную переменную</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  char x = 'a';
  cout &lt;&lt; x;
}
</pre>

  <p>Объявим строковую переменную</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  string x = "strelok";
  cout &lt;&lt; x;
}
</pre>

  <p>Введем число и выведем его</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  int x;
  cin >> x;
  cout &lt;&lt; x;
}
</pre>

  <p>Введем вещественное число и выведем его</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  double x;
  cin >> x;
  cout &lt;&lt; x;
}
</pre>

  <p>Введем символ и выведем его</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  char x;
  cin >> x;
  cout &lt;&lt; x;
}
</pre>

  <p>Введем строку и выведем ее. Функция cin запишет в строковую переменную строку только до первого пробельного символа.</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  string x;
  cin >> x;
  cout &lt;&lt; x;
}
</pre>

  <p>Введем строку до конца, вместе с пробельными символами. Функция getline() принимает два аргумента, первый это поток cin откуда брать строку, а второй это переменная x куда записывать строку.</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  string x;
  getline(cin, x);
  cout &lt;&lt; x;
}
</pre>
</article>


<!-- Урок 3. Логика -->
<article class="article">
  <div class="anchor" id="p3"></div>
  <h3>Урок 3. Логика</h3>

  <p>Тип данных bool содержит переменную логического типа, принимающую одно из двух значений true или false. Выражения, возвращающие логические значения используются в условных операторах.</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  int x = 45;
  if (x &lt; 50) {
    cout &lt;&lt; "x &lt; 50";
  } else if (x > 50) {
    cout &lt;&lt; "x > 50";
  } else {
    cout &lt;&lt; "x = 50";
  }
}
</pre>
</article>


<!-- Урок 4. Циклы -->
<article class="article">
  <div class="anchor" id="p4"></div>
  <h3>Урок 4. Циклы</h3>

  <p>Напишем цикл while</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  int n = 5;

  while (n != 0) {
    cout &lt;&lt; "n = " &lt;&lt; n &lt;&lt; endl;
    n--;
  }
}
</pre>

  <p>Напишем цикл do while</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  int n = 5;

  do {
    cout &lt;&lt; "n = " &lt;&lt; n &lt;&lt; endl;
    n--;
  } while (n != 0);
}
</pre>

  <p>Напишем цикл for</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  for (int i = 0; i &lt; 5; i++) {
    cout &lt;&lt; "i = " &lt;&lt; i &lt;&lt; endl;
  }
}
</pre>
</article>


<!-- Урок 5. Массивы -->
<article class="article">
  <div class="anchor" id="p5"></div>
  <h3>Урок 5. Массивы</h3>

  <p>Создадим массив из пяти нулей.</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  int x[5] = {0};
  x[2] = 10;
  for (int i = 0; i &lt; 5; i++) {
    cout &lt;&lt; x[i] &lt;&lt; endl;
  }
}
</pre>

  <p>Создадим массив из простых чисел. Для этого соберем Решето Эратосфена. Выведем числа по 5 в строке.</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  const int size = 1000;
  int A[size] = {};
  for (int i = 2; i &lt; size; i++) {
    if(A[i] == 0) {
      for (int j = i; j &lt; size; j += i) {
        A[j] = 2;
      }
      A[i] = 1;
    }
  }
  int cnt = 0;
  for (int i = 0; i &lt; size; i++) {
    if (A[i] == 1) {
      cout &lt;&lt; i &lt;&lt; " ";
      cnt++;
      if (cnt % 5 == 0) {
        cout &lt;&lt; '\n';
      }
    }
  }
}
</pre>

  <p>Напишем поле для игры в крестики-нолики. Пользователь вводит цифру от 0 до 8 и крестик попадает в нужную клетку.</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  cout &lt;&lt; "0|1|2" &lt;&lt; '\n';
  cout &lt;&lt; "3|4|5" &lt;&lt; '\n';
  cout &lt;&lt; "6|7|8" &lt;&lt; '\n';
  cout &lt;&lt; "Enter number 0 .. 8 ";
  int choice;
  cin >> choice;

  if (choice >= 0 and choice &lt;= 8) {
    int x = choice / 3;
    int y = choice % 3;
    char board[3][3] = {};
    board[x][y] = 'X';
    for (int i = 0; i &lt; 3; i++) {
      for (int j = 0; j &lt; 3; j++) {
        cout &lt;&lt; board[i][j];
        if (j != 2) {
          cout &lt;&lt; '|';
        }
      }
      cout &lt;&lt; '\n';
    }
  }
}
</pre>
</article>


<!-- Урок 6. Ссылки -->
<article class="article">
  <div class="anchor" id="p6"></div>
  <h3>Урок 6. Ссылки</h3>

  <p>Создадим структуру Person</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

struct Person {
  int age;
  int height;
  int weight;
  string name;
  string job;
};

bool isAdult(Person p) {
  cout &lt;&lt; sizeof(p) &lt;&lt; '\n';
  if (p.age > 18) {
    return true;
  }
  return false;
}

int main() {
  Person dasha = {20, 160, 50, "Dasha", "Student"};
  bool flag = false;
  if (isAdult(dasha)) {
    bool flag = true;
  }
  cout &lt;&lt; dasha.name &lt;&lt; " is ";
  if (!flag) {
    cout &lt;&lt; "not ";
  }
  cout &lt;&lt; "adult\n";
}
</pre>

  <p>bool isAdult(Person p). Если параметр функции это объект, то при передаче объекта в функцию, весь объект должен скопироваться, во временный объект с которым будет работать функция.</p>
  <p>Если объект большой, то будет копироваться много памяти.</p>
  <p>Если внутри функции будет изменено поле объекта, например p.age = 14, то сам объект внутри функции main не изменится.</p>
  <p>bool isAdult(Person &p). Если параметр функции это ссылка на объект, то при передаче объекта в функцию, скопируется ссылка на объект, а функция будет работать с самим объектом.</p>
  <p>Не зависимо от размера объекта будет копироваться только 8 байт, которые занимает адрес на ячейку памяти.</p>
  <p>Если внутри функции будет изменено поле объекта, например p.age = 14, то и сам объект внутри функции main изменится.</p>
  <p>bool isAdult(const Person &p). Если параметр функции ссылка с модификатором const, то программа не скомпилируется, если внутри функции будет изменяться объект.</p>
</article>


<!-- Урок 7. Функции -->
<article class="article">
  <div class="anchor" id="p7"></div>
  <h3>Урок 7. Функции</h3>

  <p>Напишем функцию перевода градусов по цельсию в градусы по фаренгейту.</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

double cToF(double celsius) {
  return 9 * celsius / 5 + 32;
}

int main() {
  cout &lt;&lt; "Please enter temperature in Celcius: ";
  double tempC;
  cin >> tempC;
  cout &lt;&lt; "Temperature in Fahrenheit is: " &lt;&lt; cToF(tempC);
}
</pre>

  <p>Напишем функцию, которая принимает массив вещественных чисел и возвращает среднее значение. Передадим в эту функцию массив из четырех оценок американских студентов.</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

double average(double arr[], int size) {
  double sum = 0;
  for (int i = 0; i &lt; size; i++) {
    sum += arr[i];
  }
  return sum / size;
}

int main() {
  double grades[] = {86, 73, 92, 78};
  int n = sizeof(grades) / sizeof(grades[0]);
  cout &lt;&lt; average(grades, n);
}
</pre>

  <p>Напишем функцию сортировки массива целых чисел. В функцию передадим указатель на массив, при этом внутри функции не будет создана копия массива, а функция отсортирует оригинальный массив.</p>
<pre>
#include &lt;iostream&gt;

using namespace std;

void sortArr(int *arr, int n) {
  for (int i = 0; i &lt; n; i++) {
    for (int j = i; j &lt; n; j++) {
      if (arr[j] &lt; arr[i]) {
        int tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
      }
    }
  }
}

int main() {
  int A[] = {5, 12, 17, 3, 7, 126, 1};
  int size = sizeof(A) / sizeof(A[0]);
  sortArr(A, size);
  for (int i = 0; i &lt; size; i++) {
    cout &lt;&lt; A[i] &lt;&lt; ' ';
  }
}
</pre>
</article>


<!-- Урок 8. Крестики-нолики -->
<article class="article">
  <div class="anchor" id="p8"></div>
  <h3>Урок 8. Крестики-нолики</h3>

<pre>
#include &lt;iostream&gt;

using namespace std;

char board[9] = {'-', '-', '-', '-', '-', '-', '-', '-', '-'};

void clearscreen() {
  for (int i = 0; i &lt; 40; i++) {
    cout &lt;&lt; endl;
  }
}

void clearboard() {
  for (int i = 0; i &lt; 9; i++) {
    board[i] = '-';
  }
}

bool has_wonQ(char player) {
  int wins[][3] = {{0,1,2}, {3,4,5}, {6,7,8},
  {0,3,6}, {1,4,7}, {2,5,8}, {0,4,8}, {2,4,6}};

  for (int i = 0; i &lt; 8; i++) {
    int count = 0;
    for (int j = 0; j &lt; 3; j++) {
      if(board[wins[i][j]] == player) {
        count++;
      }
    }
    if(count == 3) {
      return true;
    }
  }
  return false;
}

void print_board() {
  cout &lt;&lt; "Game board:\n";
  cout &lt;&lt; "-" &lt;&lt; board[6] &lt;&lt; "-|-"
       &lt;&lt; board[7] &lt;&lt; "-|-"
       &lt;&lt; board[8] &lt;&lt; "-\n";
  cout &lt;&lt; "-" &lt;&lt; board[3] &lt;&lt; "-|-"
       &lt;&lt; board[4] &lt;&lt; "-|-"
       &lt;&lt; board[5] &lt;&lt; "-\n";
  cout &lt;&lt; "-" &lt;&lt; board[0] &lt;&lt; "-|-"
       &lt;&lt; board[1] &lt;&lt; "-|-"
       &lt;&lt; board[2] &lt;&lt; "-\n";
}

int get_move() {
  cout &lt;&lt; "\nMove options: \n";
  cout &lt;&lt; "-7-|-8-|-9-\n";
  cout &lt;&lt; "-4-|-5-|-6-\n";
  cout &lt;&lt; "-1-|-2-|-3-\n\n";

  print_board();
  cout &lt;&lt; "\nYour move: ";

  int move;
  cin >> move;
  while(move > 9 || move &lt; 1 || board[move-1] != '-') {
    cout &lt;&lt; "Please enter a legal move (1-9):\n";
    cin >> move;
  }
  return move;
}

char play_and_get_winner() {
  int turn = 1;

  while(!has_wonQ('X') && !has_wonQ('O')) {
    clearscreen();
    int move = get_move();
    cout &lt;&lt; "The move you entered is: " &lt;&lt; move &lt;&lt; endl;
    if (turn % 2 == 1) {
      board[move-1] = 'X';
      if (has_wonQ('X')) {
        cout &lt;&lt; "Congratulations player X! You have won!\n";
        return 'X';
      }
    } else {
      board[move-1] = 'O';
      if (has_wonQ('O')) {
        cout &lt;&lt; "Congratulations player O! You have won!\n";
        return 'O';
      }
    }
    turn++;
    if (turn == 10) {
      cout &lt;&lt; "\t   It's a draw!\n";
      return 'D';
    }
  }
}

int main() {
  cout &lt;&lt; "Welcome to tic-tac-toe!\n\n";
  string reply = "y";
  int x_wins = 0, o_wins = 0, ties = 0;

  while (reply == "y") {
    clearboard();
    char winner = play_and_get_winner();
    print_board();

    switch(winner) {
      case 'X':
        x_wins++;
        break;
      case 'O':
        o_wins++;
        break;
      case 'D':
        ties++;
        break;
    }

    cout &lt;&lt; "\n\t*Winner Statistics*\nPlayer X: "
         &lt;&lt; x_wins &lt;&lt; ", Player O: "
         &lt;&lt; o_wins &lt;&lt; " and Ties: "
         &lt;&lt; ties &lt;&lt; "\n\n";
    cout &lt;&lt; "\nWould you like to play again? (y/n): ";
    cin >> reply;
    while (reply != "y" && reply != "n") {
      cout &lt;&lt; "Please enter a valid reply (y/n): ";
      cin >> reply;
    }
  }
}
</pre>
</article>
