<h1>Матрица. Сумма диагоналей</h1>


<article class="article">
  <p>Конспект видео от 2023-11-24</p>
  <h4>Чуть не упустил работу в ЯНДЕКС! (Ты должен ее решить)</h4>

  <p><a href="https://www.youtube.com/@fatin.maksim/videos">youtube Максим Фатин</a></p>
  <p><a href="https://algocode.io/">https://algocode.io/</a></p>
  <p><a href="https://tskills.ru/algo">https://tskills.ru/algo</a></p>
</article>


<article class="article">
  <p>Чтобы не упустить возможность работать в Яндексе тебе нужно знать как решить задачу, которую мы разберем в этом видео. К концу ролика ты поймешь что это не так уж и сложно</p>
</article>


<article class="article">
  <h3>Задача. Сумма элементов на двух диагоналях матрицы</h3>

  <p>Дана матрица. Двумерный массив. Нужно найти сумму всех элементов на двух диагоналях</p>

  <h4>Пример</h4>
<pre>
[1, 12, 13, 5]
[15, 2, 6, 18]
[9, 7, 3, 12]
[8, 14, 25, 4]
Ответ 1 + 2 + 3 + 4 + 5 + 6 + 7 + 8 = 36
</pre>
<pre>
[1, 2]
[3, 4]
Ответ 1 + 2 + 3 + 4 = 10
</pre>

  <p>Перед написанием кода важно уточнить ограничения. Они достаточно сильно могут влиять на решение задачи. Какой максимальный размер матрицы? Всегда ли матрица квадратная? В нашей задаче максимальный размер матрицы 100 на 100 и она всегда квадратная. Какие числа могут быть в матрице? Точно ли что сумма диагональных элементов не вызовет переполнение? В нашей задаче переполнения не будет.</p>
  <p>Может ли матрица быть нечетная? Может.</p>

  <details>
    <summary>Алгоритм</summary>
    <p>Сначала обдумаем решение. Пусть есть три матрицы 4х4, 3х3 и 2х2</p>
<pre>
1 0 0 2
0 1 2 0
0 2 1 0
2 0 0 1
Ответ 12
</pre>
<pre>
1 2 3
4 5 6
7 8 9
Ответ 25
</pre>
<pre>
1 2
3 4
Ответ 10
</pre>
    <p>Для матриц с четным размером (4х4) работает такая формула</p>
    <code>mat[i][i] + mat[i][n-i-1]</code>
    <p>Для нечетной матрицы по этой формуле центральный элемент, который лежит на пересечении двух диагоналей, будет складываться дважды.</p>
    <p>Чтобы проверить что мы складываем разные элементы, надо чтобы i не было равно n-i-1</p>
    <ol>
      <li>Заведем переменную len для размера матрицы
        <code>let len = mat.length;</code>
      </li>
      <li>Заведем переменную res для результата
        <code>let res = 0;</code>
      </li>
      <li>Пройдем циклом по размеру матрицы
        <code>for (let i = 0; i &lt; len; i++)</code>
      </li>
      <li>Прибавим к результату каждый элемент на первой диагонали
        <code>res += mat[i][i];</code>
      </li>
      <li>Проверим условие что элемент не лежит на пересечении диагоналей, то есть индекс элемента на второй диагонали не совпадает с индексом элемента на первой
        <code>if (i != len-i-1)</code>
      </li>
      <li>Если условие верно, то прибавим к результату элемент второй диагонали
        <code>res += mat[i][len-i-1];</code>
      </li>
    </ol>
    <p>Сложность по времени O(N).</p>
    <p>Сложность по памяти O(1)</p>
  </details>

  <details>
    <summary>Решение (javascript)</summary>
<pre>
function sum(mat) {
  let len = mat.length;
  let res = 0;

  for (let i = 0; i &lt; len; i++) {
    res += mat[i][i];
    if (i != len-i-1) {
      res += mat[i][len-i-1];
    }
  }

  return res;
}
</pre>
  </details>

  <details>
    <summary>Решение (python)</summary>
<pre>
class Solution:
  def sum(self, mat: List[List[int]]) -> int:
    n = len(mat)
    res = 0

    for i in range(n):
      res += mat[i][i]
      if i != n - i - 1:
        res += mat[i][n - i - 1]

    return res
</pre>
  </details>
</article>
