<h1>Тренировки по алгоритмам 1.0</h1>


<article class="article">
  <h2>Михаил Густокашин</h2>
  <p>Конспект курса <strong>Тренировки по алгоритмам 1.0</strong> (с 2021.06.02 до 2021.06.30)</p>
  <p><a href="https://yandex.ru/yaintern/algorithm-training_2021">yandex.ru/yaintern/algorithm-training_2021</a></p>

  <h4>Разбор ДЗ по лекции 1 и 2</h4>
  <p>2021-06-11 Разбор ДЗ по лекции 1 и 2.mp4</p>
</article>


<!-- Содержание -->
<article class="article">
  <h3>Содержание</h3>

  <br><a href="#r12">Разбор ДЗ по лекции 1 и 2</a>
  <br><a href="#r1-1">Занятие 1. Узник замка Иф</a>
  <br><a href="#r1-2">Занятие 1. Метро</a>
  <br><a href="#r1-3">Занятие 1. Скорая помощь</a>
  <br><a href="#r2-1">Занятие 2. Симметричная последовательность</a>
  <br><a href="#r2-2">Занятие 2. Наибольшее произведение трех чисел</a>
  <br><a href="#r2-3">Занятие 2. Сапер</a>
  <br><a href="#r2-4">Занятие 2. Треугольник Максима</a>
</article>


<!-- Разбор ДЗ по лекции 1 и 2 -->
<article class="article">
  <div class="anchor" id="r12"></div>
  <h2>Разбор ДЗ по лекции 1 и 2</h2>
</article>


<!-- Занятие 1. Узник замка Иф -->
<article class="article">
  <div class="anchor" id="r1-1"></div>
  <h2>Занятие 1. Узник замка Иф</h2>

  <p>За многие годы заточения узник замка Иф проделал в стене прямоугольное отверстие размером D на E. Замок Иф сложен из кирпичей, рамзером A на B на C. Определите, сможет ли узник выбрасывать кирпичи в море через это отверстие, если стороны кирпича должны быть параллельны сторонам отверстия.</p>

  <details>
    <summary>Решение</summary>
    <p>Можно перебрать все возможные способы и проверить пролезет ли кирпич в отверстие. Но это будет неэффективно.</p>
    <p></p>Давайте сначала упорядочим стороны кирпича от меньшей к большей A,B,C и отверстия - D,E. Тогда получим меньшую сторону кирпича А и меньшую сторону отверстия D. Нам нужно чтобы было A меньше D, и В меньше Е. Самую длинную сторону кирпича А ни с чем сравнивать не надо.
    <p>Кирпич пройдет в отверстие если A &le; D и B &le; E.</p>
    <p>Чтобы упорядочить два числа, просто сравним их. Чтобы упорядочить три числа напишем сортировку пузырьком.</p>
<pre>function uznik([a,b,c,d,e]) {
  // функция сортировки
  function sort2(n1, n2) {
    if (n1 > n2) {
      return [n2, n1];
    }
    return [n1, n2];
  }

  // сортируем стороны
  [a, b] = sort2(a, b);
  [b, c] = sort2(b, c);
  [a, b] = sort2(a, b);
  [d, e] = sort2(d, e);

  if (d &gt;= a && e &gt;=b) {
    return true;
  }
  return false;
}</pre>

    <p>Тест</p>
    <code>let w1 = [5,4,3,3,4];</code>
    <code>console.log(uznik(w1)); // true</code>
  </details>
</article>


<!-- Занятие 1. Метро -->
<article class="article">
  <div class="anchor" id="r1-2"></div>
  <h2>Занятие 1. Метро</h2>

  <p>На некоторых кросс-платформенных станциях метро (как, например, "Третьяковская") на разные стороны платформы приходят поезда разных направлений. Таня договорилась встретиться с подругой на такой станции, но поскольку подруга приехала из другого часового пояса, то из-за джетлага сильно проспала, и Тане пришлось долго ее ждать. Поезда всегда ходят точно по расписанию, и Таня знает, что поезд стоит на платформе ровно одну минуту, а интервал между поездами (время, в течение которого поезда у платформы нет) составляет a минут для поездов на первом пути и b минут для поездов на втором пути. То есть на первый путь приезжает поезд и стоит одну минуту, затем в течение a минут поезда у платформы нет, затем в течение одной минуты у платформы стоит следующий поезд и т.д.</p>
  <p>Пока Таня стояла на платформе, она насчитала n поездов на первом пути и m поездов на втором пути. Определите минимальное и максимальное время, которое Таня могла провести на платформе, или сообщите, что она точно сбилась со счета.</p>
  <p>Все поезда, которые видела Таня, она наблюдала в течение всей минуты, то есть Таня не приходит и не уходит с платформы посередине той минуты, когда поезд стоит на платформе.</p>

  <details>
    <summary>Решение</summary>
    <p>Если Таня на первом пути видела 3 поезда, то минимум времени это время стоянки трех поездов и два интервала между поездами. Максимум времени это если к минимуму прибавить еще два интервала между поездами</p>
    <code>min1 = a*(n-1)+n</code>
    <code>max1 = a*(n-1)+n+2a</code>

    <p>То же самое для второго пути</p>
    <code>min2 = b*(m-1)+m</code>
    <code>max2 = b*(m-1)+m+2b</code>

    <p>Для определения минимального времени, проведенного Таней найдем максимум из минимумов, для максимального - найдем минимум из максимумов. Если максимальное время окажется меньше минимального, то Таня сбилась со счета.</p>
<pre>function metro([a,b,n,m]) {
  min1 = (a + 1) * (n - 1) + 1;
  max1 = (a + 1) * (n - 1) + 1 + 2 * a;
  min2 = (b + 1) * (m - 1) + 1;
  max2 = (b + 1) * (m - 1) + 1 + 2 * b;

  min = Math.max(min1, min2);
  max = Math.min(max1, max2);

  if (max &lt; min) {
    return -1;
  }
  return [min, max];
}</pre>

    <p>Тест</p>
    <code>let w1 = [2,4,5,2];</code>
    <code>console.log(metro(w1)); // [ 13, 14 ]</code>
    <code>let w2 = [2,4,5,5];</code>
    <code>console.log(metro(w2)); // -1</code>
  </details>
</article>


<!-- Занятие 1. Скорая помощь -->
<article class="article">
  <div class="anchor" id="r1-3"></div>
  <h2>Занятие 1. Скорая помощь</h2>

  <p>Бригада скорой помощи выехала по вызову в один из отдаленных районов. К сожалению, когда диспетчер получил вызов, он успел записать только адрес дома и номер квартиры K1, а затем связь прервалась. Однако он вспомнил, что по этому же адресу дома некоторое время назад скороя помощь выезжала в квартиру K2, которая расположена в подъезде P2 на этаже N2. Известно, что в доме M этажей и количество квартир на каждой лестничной площадке одинаково. Напишите программу, которая вычисляет номер подъезда P1 и номер этажа N1 квартиры K1</p>
  <p>Числа до 10^6</p>

  <p>Числа до миллиона мы можем перебрать за линейное время, но не за квадрат. Мы не можем перебирать и номер квартиры и номер этажа. Выберем что-то одно. Будем перебирать количество квартир на одной лестничной площадке K. Если мы знаем количество квартир на одной лестничной площадке, мы можем проверить какое количество квартир подходит для P2, N2. И зная это посчитать для квартиры с номером K1 номер подъезда и номер этажа.</p>

  <p>Нарисуем подъезды один над другим. Начиная с первого подъезда. Первый этаж первого подъезда будет первым этажем на таком рисунке. Если в доме M этажей, то первый этаж второго подъезда будет M+1 этажем на таком рисунке. Если число подъездов P, то последний этаж последнего подъезда будет M*P этажем.</p>

  <p>Итак, мы перебираем количество квартир на лестничной полщадке. Мы знаем в каком подъезде P2 и на каком этаже N2 находится квартира K2. Поделим K2 на количество квартир на этаже и определим на каком этаже находится квартира K2. Если подошло с тем, что мы знаем, то считаем для квартиры K1 зная ее номер и количество квартир на этаже, номер этажа и номер подъезда.</p>
</article>


<!-- Занятие 2. Симметричная последовательность -->
<article class="article">
  <div class="anchor" id="r2-1"></div>
  <h2>Занятие 2. Симметричная последовательность</h2>

  <p>Последовательность чисел назовем симметричной, если она одинаково читается как слева направо, так и справа налево. Например, следующие последовательности являются симметричными:</p>
  <code>123454321</code>
  <code>12122121</code>
  <p>Вашей программе будет дана последовательность чисел. Требуется определить, какое минимальное количество и каких чисел надо приписать в конец последовательности, чтобы она стала симметричной</p>
  <p>Длина последовательности до 100</p>

  <details>
    <summary>Решение</summary>
    <p>Это ограничение говорит нам о том, что можно решать за O(N^2). Но есть алгоритм, который решает за линейное время используя префикс функции.</p>
  </details>
</article>


<!-- Занятие 2. Наибольшее произведение трех чисел -->
<article class="article">
  <div class="anchor" id="r2-2"></div>
  <h2>Занятие 2. Наибольшее произведение трех чисел</h2>

  <p>В данном списке из n&lt;=10^5 целых чисел найдите три числа, произведение которых максимально</p>
  <p>Решение должно иметь сложность O(n), где n - размер списка</p>
  <p>Выведите три искомых числа в любом порядке</p>

  <details>
    <summary>Решение</summary>
    <p>Посмотрим, когда произведение трех чисел будет максимально? Если все числа положительные, тогда произведение трех максимальных чисел будет максимально. Если есть отрицательные числа, то максимальным может оказаться произведение двух минимальных отрицательных и одного максимального положительного.</p>
    <p>Нам нужно отсортировать числа так чтобы три максимальных стояли справа, а два минимальных слева. Остальные числа сортировать не нужно.</p>
    <p>У нас есть массив. Возьмем из него случайное число x и поставим числа меньше x слева, а числа больше x справа от x.</p>
  </details>
</article>


<!-- Занятие 2. Сапер -->
<article class="article">
  <div class="anchor" id="r2-3"></div>
  <h2>Занятие 2. Сапер</h2>

  <p>Вам необходимо построить поле для игры "Сапер" по его конфигурации - размерам и координатам расставленых мин</p>
  <p>Вкратце напомним правила построения поля для игры "Сапер"</p>
  <ul>
    <li>Поле состоит из клеток с минами и пустых клеток</li>
    <li>Клетки с миной обозначаются символом *</li>
    <li>Пустые клетки содержат число k(i,j), 0&lt;=k(i,j)&lt;=8 количество мин на соседних клетках. Соседними клетками являются восемь клеток, имеющих смежный угол или сторону</li>
  </ul>

  <details>
    <summary>Решение</summary>
    <p>Проблема задачи в том, чтобы для клетки с координатами i и j найти все 8 соседние клетки. Для одной клетки можно написать 8 if-ов и это будет работать. Но если клеток много, то такое решение будет очень медленное и можно придумать более эффективное решение. Решение этих проблем - это массив сдвигов.</p>
    <code>di = [1,1,1,0,-1,-1,-1,0]</code>
    <code>dj = [1,0,-1,-1,-1,0,1,1]</code>
    <p>Получаем восемь клеток с координатами начиная от правого верхнего угла от нашей клетки и по часовой стрелке, вокруг нее 8 клеток.</p>
    <code>первая соседняя клетка [i+di[0],j+dj[0]</code>
    <code>вторая соседняя клетка [i+di[1],j+dj[1]</code>
    <code>восьмая соседняя клетка [i+di[7],j+dj[7]</code>
    <p>Вторая проблема - это клетки у края или в углу. Для них некоторые соседи выходят за границы игрового поля. Решение этой проблемы - создание рамки шириной в 1 клетку вокруг игрового поля, чтобы для крайних клеток соседи тоже существовали.</p>
  </details>
</article>


<!-- Занятие 2. Треугольник Максима -->
<article class="article">
  <div class="anchor" id="r2-4"></div>
  <h2>Занятие 2. Треугольник Максима</h2>

  <p>С детства Максим был неплохим музыкантом и мастером на все руки. Недавно он самостоятельно сделал несложный перкуссионный музыкальный инструмент - треугольник. Ему нужно узнать, какова частота звука, издаваемого его инструментом</p>
  <p>У Максима есть профессиональный музыкальный тюнер, с помощью которого можно проигрывать ноту с заданной частотой. Максим действует следующим образом: он включает на тюнере ноты с разными частотами и для каждой ноты на слух определяет, ближе или дальше она к издаваемому треугольником звуку, чем предыдущая нота. Поскольку слух у Максима абсолютный, он определяет это всегда верно.</p>
  <p>Вам Максим показал запись, в которой приведена последовательность частот, выставляемых им на тюнере, и про каждую ноту, начиная со второй, записано - ближе или дальше она к звуку треугольника, чем предыдущая нота. Заранее известно, что частота звучания треугольника Максима составляет не менее 30 Герц и не более 4000 Герц</p>
  <p>Требуется написать программу, которая определяет, в каком интервале может находиться частота звучания треугольника.</p>

  <details>
    <summary>Решение</summary>
    <p>Частота треугольника находится между левой границей в 30 Герц и правой границей в 4000 Герц. После второго измерения нам нужно обработать 4 варианта</p>
    <ol>
      <li>вторая частота ниже первой и она ближе к частоте треугольника чем первая. нужно менять правую границу на середину между первой и второй частотой</li>
      <li>вторая частота ниже первой и она дальше к частоте треугольника чем первая. нужно менять левую границу на середину между первой и второй частотой</li>
      <li>вторая частота выше первой и она ближе к частоте треугольника чем первая. нужно менять левую границу на середину между первой и второй частотой</li>
      <li>вторая частота выше первой и она дальше к частоте треугольника чем первая. нужно менять правую границу на середину между первой и второй частотой</li>
    </ol>
    <p></p>
  </details>
</article>
