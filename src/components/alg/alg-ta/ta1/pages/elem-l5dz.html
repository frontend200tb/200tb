<h1>Тренировки по алгоритмам 1.0</h1>


<article class="article">
  <h2>Михаил Густокашин</h2>
  <p>Конспект курса <strong>Тренировки по алгоритмам 1.0</strong> (с 2021.06.02 до 2021.06.30)</p>
  <p><a href="https://yandex.ru/yaintern/algorithm-training_2021" target="_blank">yandex.ru/yaintern/algorithm-training_2021</a></p>

  <h4>Домашнее задание по лекции 5. Префиксные суммы и два указателя</h4>
  <p><a href="https://contest.yandex.ru/contest/27794/problems/" target="_blank">contest.yandex.ru/contest/27794/problems</a></p>
</article>


<!-- Содержание -->
<article class="article">
  <h3>Содержание</h3>

      <a href="#t1">A. Стильная одежда</a>
  <br><a href="#t2">B. Сумма номеров</a>
  <br><a href="#t3">C. Туризм</a>
  <br><a href="#t4">D. Город Че</a>
  <br><a href="#t5">E. Красота превыше всего</a>
  <br><a href="#t6">F. Кондиционеры</a>
  <br><a href="#t7">G. Счет в гипершашках</a>
  <br><a href="#t8">H. Подстрока</a>
  <br><a href="#t9">I. Робот</a>
  <br><a href="#t10">J. Треугольники</a>
</article>


<!-- A. Стильная одежда -->
<article class="article">
  <div class="anchor" id="t1"></div>
  <h3>A. Стильная одежда</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>Глеб обожает шоппинг. Как-то раз он загорелся идеей подобрать себе майку и штаны так, чтобы выглядеть в них максимально стильно. В понимании Глеба стильность одежды тем больше, чем меньше разница в цвете элементов его одежды.</p>

  <p>В наличии имеется N (1 ≤ N ≤ 100 000) маек и M (1 ≤ M ≤ 100 000) штанов, про каждый элемент известен его цвет (целое число от 1 до 10 000 000). Помогите Глебу выбрать одну майку и одни штаны так, чтобы разница в их цвете была как можно меньше.</p>

  <h4>Формат ввода</h4>
  <p>Сначала вводится информация о майках: в первой строке целое число N (1 ≤ N ≤ 100 000) и во второй N целых чисел от 1 до 1  000 000 — цвета имеющихся в наличии маек. Гарантируется, что номера цветов идут в возрастающем порядке (в частности, цвета никаких двух маек не совпадают).</p>

  <p>Далее в том же формате идёт описание штанов: их количество M (1 ≤ M ≤ 100 000) и в следующей строке M целых чисел от 1 до 10 000 000 в возрастающем порядке — цвета штанов.</p>

  <h4>Формат вывода</h4>
  <p>Выведите пару неотрицательных чисел — цвет майки и цвет штанов, которые следует выбрать Глебу. Если вариантов выбора несколько, выведите любой из них.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
2
3 4
3
1 2 3
</pre>
    <code>3 3</code>

    <h4>Пример 2</h4>
<pre>
2
4 5
3
1 2 3
</pre>
    <code>4 3</code>

    <h4>Пример 3</h4>
<pre>
5
1 2 3 4 5
5
1 2 3 4 5
</pre>
    <code>1 1</code>
  </details>
</article>


<!-- B. Сумма номеров -->
<article class="article">
  <div class="anchor" id="t2"></div>
  <h3>B. Сумма номеров</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>Вася очень любит везде искать своё счастливое число K. Каждый день он ходит в школу по улице, вдоль которой припарковано N машин. Он заинтересовался вопросом, сколько существует наборов машин, стоящих подряд на местах с L до R, что сумма их номеров равна K. Помогите Васе узнать ответ на его вопрос.</p>

  <p>Например, если число N=5, K=17, а номера машин равны 17, 7, 10, 7, 10, то существует 4 набора машин:</p>
  <code>17 (L=1,R=1),</code>
  <code>7, 10 (L=2,R=3),</code>
  <code>10, 7 (L=3,R=4),</code>
  <code>7, 10 (L=4,R=5)</code>

  <h4>Формат ввода</h4>
  <p>В первой строке входных данных задаются числа N и K (1 ≤ N ≤ 100000, 1 ≤ K ≤ 10<sup>9</sup>).</p>
  <p>Во второй строке содержится N чисел, задающих номера машин. Номера машин могут принимать значения от 1 до 999 включительно.</p>

  <h4>Формат вывода</h4>
  <p>Необходимо вывести одно число — количество наборов.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
5 17
17 7 10 7 10
</pre>
    <code>4</code>

    <h4>Пример 2</h4>
<pre>
5 10
1 2 3 4 1
</pre>
    <code>2</code>
  </details>
</article>


<!-- C. Туризм -->
<article class="article">
  <div class="anchor" id="t3"></div>
  <h3>C. Туризм</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>Александр недавно увлекся горным туризмом. Ему уже надоело покорять отдельные горные пики, и он собирается покорить самую настоящую горную цепь!</p>

  <p>Напомним, что Александр живет в плоском мире. Горная цепь состоит из отрезков, соединяющих точки на плоскости, каждая из которых находится строго правее предыдущей (x-координата следующей точки больше, чем у предыдущей). Трассой на горной цепи называется её часть между двумя фиксированными концами отрезков.</p>

  <p>Участок, на котором при движении по трассе координата y (высота) всегда возрастает, называется подъемом, величиной подъема называется разность высот между начальной и конечной точками участка.</p>

  <p>Туристическая компания предлагает на выбор несколько трасс на одной горной цепи. Александр из-за финансовых трудностей может выбрать для поездки только одну из этих трасс. Вы решили помочь ему с выбором. Александру важно для каждой трассы определить суммарную высоту подъемов на ней. Обратите внимание, что трасса может идти как слева-направо, так и справа-налево.</p>

  <h4>Формат ввода</h4>
  <p>В первой строке входного файла содержится единственное число N — количество точек ломаной, задающей горную цепь (1 ≤ N ≤ 30000). Далее в N строках содержатся описания точек, каждое из которых состоит из двух целых чисел, xi и yi (1 ≤ xi, yi ≤ 30000).</p>

  <p>В следующей строке находится число M — количество трасс (1 ≤ M ≤ 30000).</p>

  <p>Далее в M строках содержатся описания трасс. Каждое описание представляет собой два целых числа, si и fi, они обозначают номера вершин начала и конца трассы, соответственно (1 ≤ si ≤ N,1 ≤ fi ≤ N). Начало и конец трассы могут совпадать.</p>

  <p>Гарантируется, что во входном файле задана именно горная цепь.</p>

  <h4>Формат вывода</h4>
  <p>Для каждой трассы выведите одно число — суммарную высоту подъемов на данной трассе.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
7
2 1
4 5
7 4
8 2
9 6
11 3
15 3
1
2 6
</pre>
    <code>4</code>

    <h4>Пример 2</h4>
<pre>
6
1 1
3 2
5 6
7 2
10 4
11 1
3
5 6
1 4
4 2
</pre>
<pre>
0
5
4
</pre>
  </details>
</article>


<!-- D. Город Че -->
<article class="article">
  <div class="anchor" id="t4"></div>
  <h3>D. Город Че</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>В центре города Че есть пешеходная улица - одно из самых популярных мест для прогулок жителей города. По этой улице очень приятно гулять, ведь вдоль улицы расположено n забавных памятников.</p>

  <p>Девочке Маше из города Че нравятся два мальчика из ее школы, и она никак не может сделать выбор между ними. Чтобы принять окончательное решение, она решила назначить обоим мальчикам свидание в одно и то же время. Маша хочет выбрать два памятника на пешеходной улице, около которых мальчики будут ее ждать. При этом она хочет выбрать такие памятники, чтобы мальчики не увидели друг друга. Маша знает, что из-за тумана мальчики увидят друг друга только в том случае, если они будут на расстоянии не более r метров.</p>

  <p>Маше заинтересовалась, а сколько способов есть выбрать два различных памятника для организации свиданий.</p>

  <h4>Формат ввода</h4>
  <p>В первой строке входного файла находятся два целых числа n и r (2 ≤ n ≤ 300000, 1 ≤ r ≤ 10<sup>9</sup>) - количество памятников и максимальное расстояние, на котором мальчики могут увидеть друг друга.</p>

  <p>Во второй строке задано n положительных чисел d1, … , dn, где di - расстояние от i-го памятника до начала улицы. Все памятники находятся на разном расстоянии от начала улицы. Памятники приведены в порядке возрастания расстояния от начала улицы (1 ≤ d1, d2, … , dn ≤ 10<sup>9</sup>).</p>

  <h4>Формат вывода</h4>
  <p>Выведите одно число - число способов выбрать два памятника для организации свиданий.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
4 4
1 3 5 8
</pre>
    <code>2</code>
    <p>В приведенном примере Маша может выбрать памятники 1 и 4 или памятники 2 и 4.</p>
  </details>
</article>


<!-- E. Красота превыше всего -->
<article class="article">
  <div class="anchor" id="t5"></div>
  <h3>E. Красота превыше всего</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>В парке города Питсбурга есть чудесная аллея, состоящая из N посаженных в один ряд деревьев, каждое одного из K сортов. В связи с тем, что Питсбург принимает открытый чемпионат Байтландии по программированию, было решено построить огромную арену для проведения соревнований. Так, согласно этому плану вся аллея подлежала вырубке. Однако министерство деревьев и кустов воспротивилось этому решению, и потребовало оставить некоторые из деревьев в покое. Согласно новому плану строительства все деревья, которые не будут вырублены, должны образовывать один непрерывный отрезок, являющийся подотрезком исходного. Каждого из K видов деревьев требуется сохранить хотя бы по одному экземпляру. На вас возложена задача найти отрезок наименьшей длины, удовлетворяющий указанным ограничениям.</p>

  <h4>Формат ввода</h4>
  <p>В первой строке входного файла находятся два числа N и K (1 ≤ N, K ≤ 250000). Во второй строке входного файла следуют N чисел (разделенных пробелами), i-ое число второй строки задает сорт i-ого слева дерева в аллее. Гарантируется, что присутствует хотя бы одно дерево каждого сорта</p>

  <h4>Формат вывода</h4>
  <p>В выходной файл выведите два числа, координаты левого и правого концов отрезка минимальной длины, удовлетворяющего условию. Если оптимальных ответов несколько, выведите любой.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
5 3
1 2 1 3 2
</pre>
    <code>2 4</code>

    <h4>Пример 2</h4>
<pre>
6 4
2 4 2 3 3 1
</pre>
    <code>2 6</code>
  </details>
</article>


<!-- F. Кондиционеры -->
<article class="article">
  <div class="anchor" id="t6"></div>
  <h3>F. Кондиционеры</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>При реализации проекта «Умная школа» было решено в каждый учебный класс выбранной для этого школы установить по кондиционеру нового поколения для автоматического охлаждения и вентиляции воздуха. По проекту в каждом классе должен быть установлен только один кондиционер и мощность кондиционера должна быть достаточной для размеров класса. Чем больше класс, тем мощнее должен быть кондиционер.</p>

  <p>Все классы школы пронумерованы последовательно от 1 до n. Известно, что для каждого класса с номером i, требуется ровно один кондиционер, мощность которого больше или равна ai ватт.</p>

  <p>Администрации школы предоставили список из m различных моделей кондиционеров, которые можно закупить. Для каждой модели кондиционера известна его мощность и стоимость. Требуется написать программу, которая определит, за какую минимальную суммарную стоимость кондиционеров можно оснастить все классы школы.</p>

  <h4>Формат ввода</h4>
  <p>Первая строка входного файла содержит одно целое число n (1 ≤ n ≤ 50 000) количество классов в школе.</p>

  <p>Вторая строка содержит n целых чисел ai (1 ≤ ai ≤ 1000) — минимальная мощность кондиционера в ваттах, который можно установить в классе с номером i.</p>

  <p>Третья строка содержит одно целое число m (1 ≤ m ≤ 50 000) — количество предложенных моделей кондиционеров.</p>

  <p>Далее, в каждой из m строк содержится пара целых чисел bj и cj (1 ≤ bj ≤ 1000, 1 ≤ cj ≤ 1000) мощность в ваттах j-й модели кондиционера и его цена в рублях соответственно.</p>

  <h4>Формат вывода</h4>
  <p>Выходной файл должен содержать одно число минимальную суммарную стоимость кондиционеров в рублях. Гарантируется, что хотя бы один корректный выбор кондиционеров существует, и во всех классах можно установить подходящий кондиционер.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
1
800
1
800 1000
</pre>
    <code>1000</code>

    <h4>Пример 2</h4>
<pre>
3
1 2 3
4
1 10
1 5
10 7
2 3
</pre>
    <code>13</code>
    <p>В первом примере нужно купить один единственно возможный кондиционер за 1000 рублей.</p>

    <p>Во втором примере оптимально будет установить в первом и втором классах кондиционеры четвертого типа, а в третьем классе – кондиционер третьего типа. Суммарная стоимость этих кондиционеров будет составлять 13 рублей (3 + 3 + 7).</p>
  </details>
</article>


<!-- G. Счет в гипершашках -->
<article class="article">
  <div class="anchor" id="t7"></div>
  <h3>G. Счет в гипершашках</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>Андрей работает судьей на чемпионате по гипершашкам. В каждой игре в гипершашки участвует три игрока. По ходу игры каждый из игроков набирает некоторое положительное целое число баллов. Если после окончания игры первый игрок набрал a баллов, второй — b, а третий c, то говорят, что игра закончилась со счетом a:b:c.</p>

  <p>Андрей знает, что правила игры гипершашек устроены таким образом, что в результате игры баллы любых двух игроков различаются не более чем в k раз.</p>

  <p>После матча Андрей показывает его результат, размещая три карточки с очками игроков на специальном табло. Для этого у него есть набор из n карточек, на которых написаны числа x1, x2, … , xn. Чтобы выяснить, насколько он готов к чемпионату, Андрей хочет понять, сколько различных вариантов счета он сможет показать на табло, используя имеющиеся карточки.</p>

  <p>Требуется написать программу, которая по числу k и значениям чисел на карточках, которые имеются у Андрея, определяет количество различных вариантов счета, которые Андрей может показать на табло.</p>

  <h4>Формат ввода</h4>
  <p>Первая строка входного файла содержит два целых числа: n и k (3 ≤ n ≤ 100000, 1 ≤ k ≤ 10<sup>9</sup>).</p>

  <p>Вторая строка входного файла содержит n целых чисел x1, x2, …, xn (1 ≤ xi ≤ 10<sup>9</sup>).</p>

  <h4>Формат вывода</h4>
  <p>Выходной файл должен содержать одно целое число — искомое количество различных вариантов счета.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
5 2
1 1 2 2 3
</pre>
    <code>9</code>
    <p>В приведенном примере Андрей сможет показать следующие варианты счета: 1:1:2, 1:2:1, 2:1:1, 1:2:2, 2:1:2, 2:2:1, 2:2:3, 2:3:2, 3:2:2. Другие тройки чисел, которые можно составить с использованием имеющихся карточек, не удовлетворяют заданному условию, что баллы любых двух игроков различаются не более чем в k = 2 раза.</p>
  </details>
</article>


<!-- H. Подстрока -->
<article class="article">
  <div class="anchor" id="t1"></div>
  <h3>H. Подстрока</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>В этой задаче Вам требуется найти максимальную по длине подстроку данной строки, такую что каждый символ встречается в ней не более k раз.</p>

  <h4>Формат ввода</h4>
  <p>В первой строке даны два целых числа n и k (1 ≤ n ≤ 100000, 1 ≤ k ≤ n ) , где n – количество символов в строке. Во второй строке n символов – данная строка, состоящая только из строчных латинских букв.</p>

  <h4>Формат вывода</h4>
  <p>В выходной файл выведите два числа – длину искомой подстроки и номер её первого символа. Если решений несколько, выведите любое.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
3 1
abb
</pre>
    <code>2 1</code>

    <h4>Пример 2</h4>
<pre>
5 2
ababa
</pre>
    <code>4 1</code>
  </details>
</article>


<!-- I. Робот -->
<article class="article">
  <div class="anchor" id="t9"></div>
  <h3>I. Робот</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>Студенты одного из вузов спроектировали робота для частичной автоматизации процесса сборки авиационного двигателя.</p>

  <p>В процессе сборки двигателя могут встречаться операции 26 типов, которые обозначаются строчными буквами латинского алфавита. Процесс сборки состоит из N операций.</p>

  <p>Предполагается использовать робота один раз для выполнения части подряд идущих операций из процесса сборки.</p>

  <p>Память робота состоит из K ячеек, каждая из которых содержит одну операцию. Операции выполняются последовательно, начиная с первой, в том порядке, в котором они расположены в памяти. Выполнив последнюю из них, робот продолжает работу с первой. Робота можно остановить после любой операции. Использование робота экономически целесообразно, если он выполнит хотя бы K + 1 операцию.</p>

  <p>Требуется написать программу, которая по заданному процессу сборки определит количество экономически целесообразных способов использования робота.</p>

  <h4>Формат ввода</h4>
  <p>В первой строке входного файла записано число K > 0 — количество операций, которые можно записать в память робота.</p>

  <p>Вторая строка состоит из N > K строчных латинских букв, обозначающих операции — процесс сборки двигателя. Операции одного и того же типа обозначаются одной и той же буквой. N≤200000</p>

  <h4>Формат вывода</h4>
  <p>Выходной файл должен содержать единственное целое число — количество экономически целесообразных способов использования робота.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
2
zabacabab
</pre>
    <code>5</code>

    <h4>Пример 2</h4>
<pre>
2
abc
</pre>
    <code>0</code>
  </details>
</article>


<!-- J. Треугольники -->
<article class="article">
  <div class="anchor" id="t1"></div>
  <h3>J. Треугольники</h3>

  <div class="time-memory">(Время 2с. Память 256мб)</div>

  <p>Петя достаточно давно занимается в математическом кружке, поэтому он уже успел не только правила выполнения простейших операций, но и такое достаточно сложное понятие как симметрия. Для того, чтобы получше изучить симметрию Петя решил начать с наиболее простых геометрических фигур – треугольников. Он скоро понял, что осевой симметрией обладают так называемые равнобедренные треугольники. Поэтому теперь Петя ищет везде такие треугольники.</p>

  <p>Напомним, что треугольник называется равнобедренным, если его площадь положительна, и у него есть хотя бы две равные стороны.</p>

  <p>Недавно Петя, зайдя в класс, увидел, что на доске нарисовано n точек. Разумеется, он сразу задумался, сколько существует троек из этих точек, которые являются вершинами равнобедренных треугольников.</p>

  <p>Требуется написать программу, решающую указанную задачу.</p>

  <h4>Формат ввода</h4>
  <p>Входной файл содержит целое число n (3 ≤ n ≤ 1500). Каждая из последующих строк содержит по два целых числа – xi и yi – координаты i-ой точки. Координаты точек не превосходят 10<sup>9</sup> по абсолютной величине. Среди заданных точек нет совпадающих.</p>

  <h4>Формат вывода</h4>
  <p>В выходной файл выведите ответ на задачу.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
3
0 0
2 2
-2 2
</pre>
    <code>1</code>

    <h4>Пример 2</h4>
<pre>
4
0 0
1 1
1 0
0 1
</pre>
    <code>4</code>
  </details>
</article>
