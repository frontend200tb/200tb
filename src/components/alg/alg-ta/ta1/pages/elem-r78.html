<h1>Тренировки по алгоритмам 1.0</h1>


<article class="article">
  <h2>Михаил Густокашин</h2>
  <p>Конспект курса <strong>Тренировки по алгоритмам 1.0</strong> (с 2021.06.02 до 2021.06.30)</p>
  <p><a href="https://yandex.ru/yaintern/algorithm-training_2021">yandex.ru/yaintern/algorithm-training_2021</a></p>

  <h4>Разбор ДЗ по лекции 7 и 8</h4>
  <p>2021-06-30 Разбор ДЗ по лекции 7 и 8.mp4</p>
</article>


<!-- Содержание -->
<article class="article">
  <h3>Содержание</h3>

  <br><a href="#r78">Разбор ДЗ по лекции 7 и 8</a>
  <br><a href="#r7-1">Занятие 7. Реклама</a>
  <br><a href="#r7-2">Занятие 7. Охрана</a>
  <br><a href="#r7-3">Занятие 7. Автобусы</a>
  <br><a href="#r7-4">Занятие 7. НГУ-стройка</a>
</article>


<!-- Разбор ДЗ по лекции 7 и 8 -->
<article class="article">
  <div class="anchor" id="r78"></div>
  <h2>Разбор ДЗ по лекции 7 и 8</h2>
</article>


<!-- Занятие 7. Реклама -->
<article class="article">
  <div class="anchor" id="r7-1"></div>
  <h2>Занятие 7. Реклама</h2>

  <p>Фирма NNN решила транслировать свой рекламный ролик в супермаркете XXX. Однако денег, запланированных на рекламную компанию, хватило лишь на две трансляции ролика в течение одного рабочего дня.</p>
  <p>Фирма NNN собрала информацию о времени прихода и времени ухода каждого покупателя в некоторый день. Менеджер по рекламе предположил, что и на следующий день покупатели будут приходить и уходить ровно в те же моменты времени.</p>
  <p>Помогите ему определить моменты времени, когда нужно включить трансляцию рекламных роликов, чтобы как можно большее количество покупателей прослушало ролик от начала до конца хотя бы один раз. Ролик длится ровно 5 единиц времени. Трансляции роликов не должны пересекаться, то есть начало второй трансляции должно быть хотя бы на 5 единиц времени позже, чем начало первой.</p>
  <p>1 &lt;= n &lt;= 2000</p>

  <details>
    <summary>Решение</summary>
    <p>Ролики можно включать в 2 момента - когда человек только пришел или за 5 минут до ухода. На временной шкале, где можно расположить длительности времени всех покупателей, схлопнем длительность ролика до одной точки, чтобы он не растягивался на 5 минут и будем также рассматривать только два события - когда человек только пришел и за 5 минут до ухода.</p>
    <p>Всех людей которые пробыли в магазине меньше 5 минут надо вычеркнуть - у них нет шанса прослушать ролик целиком. Теперь двигаясь во времени слева направо во все моменты когда происходит событие будем включатьролик и считать сколько человек его просмотрят.</p>
  </details>
</article>


<!-- Занятие 7. Охрана -->
<article class="article">
  <div class="anchor" id="r7-2"></div>
  <h2>Занятие 7. Охрана</h2>

  <p>На секретной военной базе работает N охранников. Сутки поделены на 10000 равных промежутков времени, и исзвествно когда каждый охранник приходит на дежурство и уходит с него. Например, если охранник приходит в 5, а уходит в 8, то значит, что он был в 6,7,8 промежуток (а в 5-й нет)</p>
  <p>Укажите, верно ли что для данного набора охранников, объект охраняется в любой момент времени хотя бы одним охранником и удаление любого из них проводит к появлению промежутка времени, когда объект не охраняется.</p>
  <p>N &lt;= 10000, K &lt;= 100</p>
</article>


<!-- Занятие 7. Автобусы -->
<article class="article">
  <div class="anchor" id="r7-3"></div>
  <h2>Занятие 7. Автобусы</h2>

  <p>Автобусная сеть страны охватывает N городов, занумерованных целыми числами от 1 до N.</p>
  <p>Идеальное расписание содержит M ежедневных рейсов, i-й рейс начинается в городе F[i[ в момент времени X[i] и заканчивается в некотором другом городе G[i] в момент времени Y[i]. Продолжительность каждого рейса ненулевая и строго меньше 24 часов. Рейс i выполняется одним из автобусов, находящихся в момент времени X[i] в городе F[i].</p>
  <p>Предполагается, что расписание будет действовать неограниченное время, поэтому может оказаться так, что его невозможно обслужить никаким конечным числом автобусов.</p>
  <p>Определите наименьшее количество новых автобусов, достаточное для обеспечения движения по расписанию в течение неограниченного периода времени.</p>
  <p>N, M &lt;= 100000</p>

  <details>
    <summary>Решение</summary>
    <p>Для каждого города посчитаем баланс автобусов приезжающих и уезжающих в течение суток. Если в город приезжает 10 автобусов, а уезжает 9, то в этом городе за бесконечное время скопится бесконечное количество автобусов. И никаким количеством автобусов мы обслужить это расписание не сможем.</p>
    <p>Создаем переменную balance для каждого города. Если автобус приезжает то balance увеличиваем на 1, если уезжает - уменьшаем на 1. Для всех городов баланс должен быть нулевой - сколько приехало, столько и уехало.</p>
    <p>Условие при котором невозможно обслужить расписание мы определили. Теперь необходимо посчитать количество автобусов. Для каждого города заведем количество автобусов, которые в нем находятся на определенный момент. В начале суток в каждом городе находится 0 автобусов. Событие происходит в момент когда автобус приехал или автобус уехал из города. Каждый рейс порождает два события - откуда и во сколько автобус уехал и куда и во сколько автобус приехал.</p>
    <p>Если в городе i происходит событие автобус приехал, то countbus[i] увеличиваем на 1. Если в городе i происходит событие автобус уехал, а в городе было 0 автобусов, то ничего не делаем. Значит там автобус заранее стоял специально и это его первый рейс. Если же countbus[i] был больше нуля, то вычитаем 1.</p>
    <p>Для чего мы делаем такие странные вещи? Для того чтобы посмотреть что будет в полночь в первые сутки. И уже никогда countbus не будет равен нулю во всех городах. В полночь смотрим сколько автобусов в каждом городе. И некоторое количество автобусов находятся в пути в полночь. Для этого посчитаем количество рейсов у которых время выезда из города больше чем время приезда.</p>
    <p>Наконец, мы складываем количество автобусов, которые находятся в городах и количество автобусов, которые находятся в рейсе и получаем ответ на нашу задачу.</p>
  </details>
</article>


<!-- Занятие 7. НГУ-стройка -->
<article class="article">
  <div class="anchor" id="r7-4"></div>
  <h2>Занятие 7. НГУ-стройка</h2>

  <p>Требуется написать программу, которая позволяет выбрать минимальное число блоков, которые будучи установленными на указанных подрядчиками местах, образуют перекрытие, либо определить, что это сделать невозможно. Высота, на которой образуется перекрытие, не имеет значения.</p>
  <p>N &lt;= 100000</p>

  <details>
    <summary>Решение</summary>
    <p>Сведем задачу к двумерной. У нас есть три измерения x,y,z. Мы можем сократить до x,z. В этом случае считаем что к нам приходят не кубики, а прямоугольники. По условиям задачи они не пересекаются. Эта задача стала аналогичной задаче про парковку.</p>
    <p>Каждый прямоугольник породит два события - что он начался вдоль оси z и что он закончился. Нужно определить было ли хоть раз что слой по оси x полностью закрылся. Если на одной высоте есть прямоугольники которые там заканчиваются и начинаются, то пусть сначала прямоугольник заканчивается, а потом начинается другой прямоугольник.</p>
    <p>Поддерживаем суммарную длину sum прямоугольников вдоль оси x. Когда прямоугольник приходит суммарная длина увеличивается на его длину, когда он уходит - уменьшается. И при каждом событии сравниваем суммарную длину с шириной нашего стакана. И если заполнится полностью то ответ - да, это возможно.</p>
    <p>Чтобы посчитать число блоков, заведем счетчик, который будет увеличиваться когда блок начался и уменьшаться когда блок закончился. И каждый раз когда полностью покрыт весь стакан, мы сравнивае количество блоков и выбираем минимальное.</p>
    <p>Теперь осталось определить номера этих блоков. Сделаем два прохода. За первый проход посчитаем минимальное количество прямоугольников которые образуют целый слой. А на втором проходе смотрели где появляются эти два минимальных блока и выводили их номера.</p>
    <p>Как только мы решили все предыдущие задачи на плоскости, переведем нашу задачу обратно в трехмерную. Вместо длины будем считать площадь. В остальном задача такая же.</p>
  </details>
</article>
