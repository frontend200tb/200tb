<h1>Тренировки по алгоритмам 1.0</h1>


<article class="article">
  <h2>Михаил Густокашин</h2>
  <p>Конспект курса <strong>Тренировки по алгоритмам 1.0</strong> (с 2021.06.02 до 2021.06.30)</p>
  <p><a href="https://yandex.ru/yaintern/algorithm-training_2021" target="_blank">yandex.ru/yaintern/algorithm-training_2021</a></p>

  <h4>Домашнее задание по лекции 7. Сортировка событий</h4>
  <p><a href="https://contest.yandex.ru/contest/27883/problems/" target="_blank">contest.yandex.ru/contest/27883/problems</a></p>
</article>


<!-- Содержание -->
<article class="article">
  <h3>Содержание</h3>

      <a href="#t1">A. Наблюдение за студентами</a>
  <br><a href="#t2">B. Точки и отрезки</a>
  <br><a href="#t3">C. Рассадка в аудитории</a>
  <br><a href="#t4">D. Реклама</a>
  <br><a href="#t5">E. Кассы</a>
  <br><a href="#t6">F. Современники</a>
  <br><a href="#t7">G. Детский праздник</a>
  <br><a href="#t8">H. Охрана</a>
  <br><a href="#t9">I. Автобусы</a>
  <br><a href="#t10">J. НГУ-стройка</a>
</article>


<!-- A. Наблюдение за студентами -->
<article class="article">
  <div class="anchor" id="t1"></div>
  <h3>A. Наблюдение за студентами</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>На первом курсе одной Школы, учится 1 ≤ N ≤ 10<sup>9</sup> студентов. При проведении экзаменов студентов рассаживают в ряд, каждого за своей партой. Парты пронумерованы числами от 0 до N - 1.</p>

  <p>Известно, что студент, оставшись без наблюдения, открывает телефон и начинает искать ответы на экзамен в поисковике Яндекса.</p>

  <p>Поэтому было решено позвать M преподавателей наблюдать за студентами. Когда за студентом наблюдает хотя бы один преподаватель, он стесняется и не идет искать ответы к экзамену. Преподаватель с номером i видит студентов сидящих за партами от bi до ei включительно.</p>

  <p>Необходимо посчитать количество студентов, которые все таки будут искать ответы к экзамену в Яндексе</p>

  <h4>Формат ввода</h4>
  <p>В первой строке находятся два целых числа 1 ≤ N ≤ 10<sup>9</sup>, 1 ≤ M ≤ 10<sup>4</sup> — число студентов и число преподавателей соответственно. В следующих M строках содержится по два целых числа 0 ≤ bi ≤ ei ≤ N-1 — парты, за которыми наблюдает i-й преподаватель.</p>

  <h4>Формат вывода</h4>
  <p>Выведите одно число — количество студентов оставшихся без наблюдения.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
10 3
1 3
2 4
9 9
</pre>
    <code>5</code>

    <h4>Пример 2</h4>
<pre>
10 2
1 1
1 2
</pre>
    <code>8</code>
  </details>
</article>


<!-- B. Точки и отрезки -->
<article class="article">
  <div class="anchor" id="t2"></div>
  <h3>B. Точки и отрезки</h3>

  <div class="time-memory">(Время 3с. Память 256мб)</div>

  <p>Дано n отрезков на числовой прямой и m точек на этой же прямой. Для каждой из данных точек определите, скольким отрезкам они принадлежат. Точка x считается принадлежащей отрезку с концами a и b, если выполняется двойное неравенство min(a, b) ≤ x ≤ max(a, b).</p>

  <h4>Формат ввода</h4>
  <p>Первая строка содержит два целых числа n (1 ≤ n ≤ 10<sup>5</sup>) – число отрезков и m (1 ≤ m ≤ 10<sup>5</sup>) – число точек. В следующих n строках по два целых числа ai и bi – координаты концов соответствующего отрезка. В последней строке m целых чисел – координаты точек. Все числа по модулю не превосходят 10<sup>9</sup></p>

  <h4>Формат вывода</h4>
  <p>В выходной файл выведите m чисел – для каждой точки количество отрезков, в которых она содержится.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
3 2
0 5
-3 2
7 10
1 6
</pre>
    <code>2 0</code>
  </details>
</article>


<!-- C. Рассадка в аудитории -->
<article class="article">
  <div class="anchor" id="t3"></div>
  <h3>C. Рассадка в аудитории</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>Экзамен по берляндскому языку проходит в узкой и длинной аудитории. На экзамен пришло N студентов. Все они посажены в ряд. Таким образом, позиция каждого человека задается координатой на оси Ox (эта ось ведет вдоль длинной аудитории). Два человека могут разговаривать, если расстояние между ними меньше или равно D. Какое наименьшее количество типов билетов должен подготовить преподаватель, чтобы никакие два студента с одинаковыми билетами не могли разговаривать? Выведите способ раздачи преподавателем билетов.</p>

  <h4>Формат ввода</h4>
  <p>В первой строке входного файла содержится два целых числа N, D (1 ≤ N ≤ 10000; 0 ≤ D ≤ 10<sup>6</sup>). Вторая строка содержит последовательность различных целых чисел X1, X2, ..., XN, где Xi (0 ≤ Xi ≤ 10<sup>6</sup>) обозначает координату вдоль оси Ox i-го студента</p>

  <h4>Формат вывода</h4>
  <p>В первую строчку выходного файла выведите количество вариантов, а во вторую, разделяя пробелами, номера вариантов студентов в том порядке, в каком они перечислены во входном файле.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
4 1
11 1 12 2
</pre>
<pre>
2
1 1 2 2
</pre>

    <h4>Пример 2</h4>
<pre>
4 0
11 1 12 2
</pre>
<pre>
1
1 1 1 1
</pre>
  </details>
</article>


<!-- D. Реклама -->
<article class="article">
  <div class="anchor" id="t4"></div>
  <h3>D. Реклама</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>Фирма NNN решила транслировать свой рекламный ролик в супермаркете XXX. Однако денег, запланированных на рекламную кампанию, хватило лишь на две трансляции ролика в течение одного рабочего дня.</p>

  <p>Фирма NNN собрала информацию о времени прихода и времени ухода каждого покупателя в некоторый день. Менеджер по рекламе предположил, что и на следующий день покупатели будут приходить и уходить ровно в те же моменты времени.</p>

  <p>Помогите ему определить моменты времени, когда нужно включить трансляцию рекламных роликов, чтобы как можно большее количество покупателей прослушало ролик целиком от начала до конца хотя бы один раз. Ролик длится ровно 5 единиц времен. Трансляции роликов не должны пересекаться, то есть начало второй трансляции должно быть хотя бы на 5 единиц времени позже, чем начало первой.</p>

  <p>Если трансляция ролика включается, например, в момент времени 10, то покупатели, пришедшие в супермаркет в момент времени 10 (или раньше) и уходящие из супермаркета в момент 15 (или позднее) успеют его прослушать целиком, а, например, покупатель, пришедший в момент времени 11, равно как и покупатель, уходящий в момент 14 - не успеют. Если покупатель успевает услышать только конец первой трансляции ролика (не сначала) и начало второй трансляции (не до конца), то считается, что он не услышал объявления. Если покупатель успевает услышать обе трансляции ролика, то при подсчете числа людей, прослушавших ролик, он все равно учитывается всего один раз (фирме важно именно количество различных людей, услышавших ролик).</p>

  <h4>Формат ввода</h4>
  <p>В первой строке входного файла вводится число N - количество покупателей (1 ≤ N ≤ 2000). В следующих N строках записано по паре натуральных чисел - время прихода и время ухода каждого из них. Все значения времени - натуральные числа, не превышающие 10<sup>9</sup>. Время ухода человека из супермаркета всегда строго больше времени его прихода в супермаркет.</p>

  <h4>Формат вывода</h4>
  <p>Выведите через пробел три числа: количество покупателей, которые прослушают ролик целиком от начала до конца хотя бы один раз, и моменты времени, когда должна начинаться трансляция ролика. Моменты времени должны быть выведены в возрастающем порядке и должны быть натуральными числами, не превышающими 2·10<sup>9</sup>. Если вариантов ответа несколько, выведите любой из них.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
4
1 11
1 3
6 15
1 6
</pre>
    <code>3 1 6</code>

    <h4>Пример 2</h4>
<pre>
1
1 10
</pre>
    <code>1 3 25</code>

    <h4>Пример 3</h4>
<pre>
3
1 10
11 20
21 30
</pre>
    <code>2 1 22</code>
    <p>1. Трансляция роликов начинается в моменты времени 1 и 6. Первое объявление успевают прослушать покупатели номер 1 и 4, второе - 1 и 3. Когда бы ни начиналась трансляция объявления, 2-й покупатель не сможет его прослушать, так как находится в супермаркете менее 5 минут. Приведенный ответ является не единственным верным ответом на этот тест.</p>

    <p>2. Объявление, трансляция которого начинается в момент 3, единственный покупатель обязательно услышит. Вторую трансляцию (раз она оплачена) мы можем сделать когда угодно, например, в 25 минут в пустом супермаркете (впрочем, мы не можем начать трансляцию второго объявления, например, в момент 7 - т.к. к этому моменту еще не закончится первая трансляция)</p>

    <p>3. Объявление услышат лишь 2 из 3-х покупателей.</p>
  </details>
</article>


<!-- E. Кассы -->
<article class="article">
  <div class="anchor" id="t5"></div>
  <h3>E. Кассы</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>На одном из московских вокзалов билеты продают N касс. Каждая касса работает без перерыва определенный промежуток времени по фиксированному расписанию (одному и тому же каждый день). Требуется определить, на протяжении какого времени в течение суток работают все кассы одновременно.</p>

  <h4>Формат ввода</h4>
  <p>Сначала вводится одно целое число N (0 &lt; N ≤ 1000).</p>

  <p>В каждой из следующих N строк через пробел расположены 4 целых числа, первые два из которых обозначают время открытия кассы в часах и минутах (часы — целое число от 0 до 23, минуты — целое число от 0 до 59), оставшиеся два — время закрытия в том же формате. Числа разделены пробелами.</p>

  <p>Время открытия означает, что в соответствующую ему минуту касса уже работает, а время закрытия — что в соответствующую минуту касса уже не работает. Например, касса, открытая с 10 ч. 30 мин. до 18 ч. 30 мин., ежесуточно работает 480 минут.</p>

  <p>Если время открытия совпадает с временем закрытия, то касса работает круглосуточно. Если первое время больше второго, то касса начинает работу до полуночи, а заканчивает — на следующий день.</p>

  <h4>Формат вывода</h4>
  <p>Требуется вывести одно число — суммарное время за сутки (в минутах), на протяжении которого работают все N касс.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
3
1 0 23 0
12 0 12 0
22 0 2 0
</pre>
    <code>120</code>

    <h4>Пример 2</h4>
<pre>
2
9 30 14 0
14 15 21 0
</pre>
    <code>0</code>

    <h4>Пример 3</h4>
<pre>
2
14 00 18 00
10 00 14 01
</pre>
    <code>1</code>
    <p>1 Первая касса работает с часу до 23 часов, вторая – круглосуточно, третья – с 22 часов до 2 часов ночи следующего дня. Таким образом, все три кассы одновременно работают с 22 до 23 часов и с часу до двух часов, то есть 120 минут.</p>

    <p>2 Первая касса работает до 14 часов, а вторая начинает работать в 14 часов 15 минут, то есть одновременно кассы не работают.</p>

    <p>3 Вместе кассы работают лишь одну минуту – с 14:00 до 14:01 (в 14:01 вторая касса уже не работает).</p>
  </details>
</article>


<!-- F. Современники -->
<article class="article">
  <div class="anchor" id="t6"></div>
  <h3>F. Современники</h3>

  <div class="time-memory">(Время 3с. Память 64мб)</div>

  <p>Группа людей называется современниками, если был такой момент, когда они могли собраться все вместе и обсуждать какой-нибудь важный вопрос. Для этого в тот момент, когда они собрались, каждому из них должно было уже исполниться 18 лет, но еще не исполниться 80 лет.</p>

  <p>Вам дан список великих людей с датами их жизни. Выведите всевозможные максимальные множества современников. Множество современников будем называть максимальным, если нет другого множества современников, которое включает в себя всех людей из первого множества.</p>

  <p>Будем считать, что в день своего 18-летия человек уже может принимать участие в такого рода собраниях, а в день 80-летия, равно как и в день своей смерти, — нет.</p>

  <h4>Формат ввода</h4>
  <p>Сначала на вход программы поступает число N — количество людей (1 ≤ N ≤ 10000). Далее в N строках вводится по шесть чисел — первые три задают дату (день, месяц, год) рождения, следующие три — дату смерти (она всегда не ранее даты рождения). День (в зависимости от месяца, а в феврале — еще и года) от 1 до 28, 29, 30 или 31, месяц — от 1 до 12, год — от 1 до 2005.</p>

  <h4>Формат вывода</h4>
  <p>Программа должна вывести все максимальные множества современников. Каждое множество должно быть записано на отдельной строке и содержать номера людей (люди во входных данных нумеруются в порядке их задания, начиная с 1). Номера людей должны разделяться пробелами.</p>

  <p>Никакое множество не должно быть указано дважды.</p>

  <p>Если нет ни одного непустого максимального множества, выведите одно число 0.</p>

  <p>Гарантируется, что входные данные будут таковы, что размер выходных данных для правильного ответа не превысит 2 Мб.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
3
2 5 1988 13 11 2005
1 1 1 1 1 30
1 1 1910 1 1 1990
</pre>
<pre>
2
3
</pre>

    <h4>Пример 2</h4>
<pre>
3
2 5 1968 13 11 2005
1 1 1 1 1 30
1 1 1910 1 1 1990
</pre>
<pre>
2
1 3
</pre>

    <h4>Пример 3</h4>
<pre>
3
2 5 1988 13 11 2005
1 1 1 1 1 10
2 1 1910 1 1 1928
</pre>
<pre>
0
</pre>
  </details>
</article>


<!-- G. Детский праздник -->
<article class="article">
  <div class="anchor" id="t7"></div>
  <h3>G. Детский праздник</h3>

  <div class="time-memory">(Время 1с. Память 64мб)</div>

  <p>Организаторы детского праздника планируют надуть для него M воздушных шариков. С этой целью они пригласили N добровольных помощников, i-й среди которых надувает шарик за Ti минут, однако каждый раз после надувания Zi шариков устает и отдыхает Yi минут. Теперь организаторы праздника хотят узнать, через какое время будут надуты все шарики при наиболее оптимальной работе помощников, и сколько шариков надует каждый из них. (Если помощник надул шарик, и должен отдохнуть, но больше шариков ему надувать не придется, то считается, что он закончил работу сразу после окончания надувания последнего шарика, а не после отдыха).</p>

  <h4>Формат ввода</h4>
  <p>В первой строке входных данных задаются числа M и N (0 ≤ M ≤ 15000, 1 ≤ N ≤ 1000). Следующие N строк содержат по три целых числа - Ti, Zi и Yi соответственно (1 ≤ Ti, Yi ≤ 100, 1 ≤ Zi ≤ 1000).</p>

  <h4>Формат вывода</h4>
  <p>Выведите в первой строке число T - время, за которое будут надуты все шарики. Во второй строке выведите N чисел - количество шариков, надутых каждым из приглашенных помощников. Разделяйте числа пробелами. Если распределений шариков несколько, выведите любое из них.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
1 2
2 1 1
1 1 2
</pre>
<pre>
1
0 1
</pre>

    <h4>Пример 2</h4>
<pre>
2 2
1 1 1
1 1 1
</pre>
<pre>
1
1 1
</pre>
  </details>
</article>


<!-- H. Охрана -->
<article class="article">
  <div class="anchor" id="t8"></div>
  <h3>H. Охрана</h3>

  <div class="time-memory">(Время 4с. Память 64мб)</div>

  <p>На секретной военной базе работает N охранников. Сутки поделены на 10000 равных промежутков времени, и известно когда каждый из охранников приходит на дежурство и уходит с него. Например, если охранник приходит в 5, а уходит в 8, то значит, что он был в 6, 7 и 8-ой промежуток (а в 5-й нет!!!).</p>

  <p>Укажите, верно ли что для данного набора охранников, объект охраняется в любой момент времени хотя бы одним охранником и удаление любого из них приводит к появлению промежутка времени, когда объект не охраняется.</p>

  <h4>Формат ввода</h4>
  <p>В первой строке входного файла записано натуральное число K (1 ≤ K ≤ 100) — количество тестов в файле. Каждый тест начинается с числа N (1 ≤ N ≤ 10000), за которым следует N пар неотрицательных целых чисел A и B — время прихода на дежурство и ухода (0 ≤ A ≤ B ≤ 10000) соответствующего охранника.</p>

  <h4>Формат вывода</h4>
  <p>Выведите K строк, где в M-ой строке находится слово Accepted, если M-ый набор охранников удовлетворяет описанным выше условиям. В противном случае выведите Wrong Answer.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
2
3 0 3000 2500 7000 2700 10000
2 0 3000 2700 10000
</pre>
<pre>
Wrong Answer
Accepted
</pre>
  </details>
</article>


<!-- I. Автобусы -->
<article class="article">
  <div class="anchor" id="t9"></div>
  <h3>I. Автобусы</h3>

  <div class="time-memory">(Время 2с. Память 64мб)</div>

  <p>Новый Президент Тридевятой республики начал свою деятельность с полной ревизии системы общественного транспорта страны. В результате на основе социологических опросов населения было составлено идеальное ежедневное расписание движения междугородних автобусов, утвержденное Парламентом республики.</p>

  <p>Более того, было решено заменить весь автобусный парк одинаковыми новыми, очень дорогими, но гораздо более надежными, красивыми и удобными машинами.</p>

  <p>Автобусная сеть страны охватывает N городов, занумерованных целыми числами от 1 до N.</p>

  <p>Идеальное расписание содержит M ежедневных рейсов, i-й рейс начинается в городе Fi в момент времени Xi и заканчивается в некотором другом городе Gi в момент времени Yi. Продолжительность каждого рейса ненулевая и строго меньше 24 часов. Рейс i выполняется одним из автобусов, находящихся в момент времени Xi в городе Fi.</p>

  <p>Новые автобусы не требуют ремонта и могут работать круглосуточно, поэтому автобус, прибывший в некоторый момент времени в некоторый город, всегда готов в тот же самый момент времени или позже отправиться в путь для обслуживания любого другого рейса из данного города. Автобус может выехать из города, только выполняя какой-либо рейс из расписания.</p>

  <p>Предполагается, что расписание будет действовать неограниченное время, поэтому может оказаться так, что его невозможно обслужить никаким конечным числом автобусов.</p>

  <p>Определите наименьшее количество новых автобусов, достаточное для обеспечения движения по расписанию в течение неограниченного периода времени.</p>

  <h4>Формат ввода</h4>
  <p>В первой строке задаются целые числа N и М (1 ≤ N, M ≤ 100 000) — количество городов и рейсов автобусов соответственно.</p>

  <p>В каждой из следующих M строк содержится описание рейса автобуса: номер города отправления Fi, время отправления Xi, номер города назначения Gi (Fi ≠ Gi), время прибытия Yi, отделенные друг от друга одним пробелом. Время прибытия и отправления задается в формате HH:MM, где HH — часы от 00 до 23, MM — минуты от 00 до 59.</p>

  <h4>Формат вывода</h4>
  <p>Выведите одно число — минимально необходимое количество автобусов. Если расписание невозможно обслуживать в течение неограниченного периода времени конечным числом автобусов, выведите число -1.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
2 2
2 20:00 1 10:00
1 08:00 2 21:00
</pre>
    <code>3</code>

    <h4>Пример 2</h4>
<pre>
2 2
1 09:00 2 20:00
2 20:00 1 09:00
</pre>
    <code>1</code>

    <h4>Пример 3</h4>
<pre>
3 4
3 03:52 1 08:50
1 18:28 3 21:53
2 03:58 3 09:00
3 14:59 2 21:13
</pre>
    <code>2</code>
  </details>
</article>


<!-- J. НГУ-стройка -->
<article class="article">
  <div class="anchor" id="t10"></div>
  <h3>J. НГУ-стройка</h3>

  <div class="time-memory">(Время 5с. Память 256мб)</div>

  <p>Над ареной огромного спортивного комплекса Независимого Главного Университета (НГУ) решили построить перекрытие. Перекрытие будет построено по клеевой технологии и состоять из склеенных друг с другом блоков. Блок представляет собой легкий прямоугольный параллелепипед. Два блока можно склеить, если они соприкасаются перекрывающимися частями боковых граней ненулевой площади.</p>

  <p>НГУ представил план комплекса, имеющий вид прямоугольника размером W на L. При этом один из углов прямоугольника находится в начале системы координат, а другой имеет координаты (W, L). Стены комплекса параллельны осям координат.</p>

  <p>Подрядчики известили НГУ, что они готовы к определенному сроку изготовить блоки и установить их. Для каждого блока фиксировано место его возможного монтажа, совпадающее по размерам с этим блоком. Места выбраны так, что ребра блоков параллельны осям координат. Места монтажа блоков не пересекаются.</p>

  <p>По техническим условиям перекрытие должно состоять из такого набора склеенных блоков, который содержит сплошной горизонтальный слой ненулевой толщины. Торопясь ввести комплекс в эксплуатацию, НГУ решил построить перекрытие из минимально возможного числа блоков.</p>

  <p>Требуется написать программу, которая позволяет выбрать минимальное число блоков, которые, будучи установленными на указанных подрядчиками местах, образуют перекрытие, либо определить, что этого сделать невозможно. Высота, на которой образуется перекрытие, не имеет значения.</p>

  <h4>Формат ввода</h4>
  <p>В первой строке входного файла указаны три целых числа: N — количество возможных блоков (1 ≤ N ≤ 10<sup>5</sup>) и размеры комплекса W и L (1 ≤ W, L ≤ 10<sup>4</sup>). Каждая из последующих N строк описывает место монтажа одного блока, определяемое координатами противоположных углов: (x1, y1, z1) и (x2, y2, z2), при этом 0 ≤ x1 &lt; x2 ≤ W, 0 ≤ y1 &lt; y2 ≤ L, 0 ≤ z1 &lt; z2 ≤ 10<sup>9</sup>. Все числа во входном файле целые и разделяются пробелами или переводами строк.</p>

  <p>Гарантируется, что места установки блоков не пересекаются друг с другом.</p>

  <h4>Формат вывода</h4>
  <p>Первая строка выходного файла должна содержать либо слово «YES», если перекрытие возможно построить, иначе — слово «NO». В первом случае вторая строка выходного файла должна содержать минимальное число блоков, образующих перекрытие, а последующие строки — номера этих блоков, в соответствии с порядком, в котором они перечислены во входном файле.</p>

  <p>Если возможно несколько минимальных наборов блоков, выведите любой из них.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
1 10 10
0 0 0 10 10 10
</pre>
<pre>
YES
1
1
</pre>

    <h4>Пример 2</h4>
<pre>
2 10 10
0 0 0 10 5 5
0 5 5 10 10 10
</pre>
<pre>
NO
</pre>
  </details>
</article>
