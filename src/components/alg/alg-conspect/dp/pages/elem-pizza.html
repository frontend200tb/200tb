<h1>Разрезание пиццы</h1>


<!-- Содержание -->
<article class="article">
  <h2>Содержание</h2>

  <p><a href="#piz">Разрезание пиццы</a></p>
  <p><a href="#piz0">0 разрезов</a></p>
  <p><a href="#piz1">1 разрез</a></p>
  <p><a href="#piz2">2 разреза</a></p>
  <p><a href="#piz3">3 разреза</a></p>
  <p><a href="#piz4">4 разреза</a></p>
  <p><a href="#pizn">n разрезов</a></p>
  <p><a href="#pizr">Рекуррентное соотношение</a></p>
  <p><a href="#pizz">Замкнутое выражение</a></p>
</article>


<!-- Разрезание пиццы -->
<article class="article">
  <div class="anchor" id="piz"></div>
  <h2>Разрезание пиццы</h2>

  <p>Сколько кусков пиццы можно получить, делая n прямолинейных разрезов ножом? Или же, если мы сумели приготовить пиццу бесконечно большого размера, каково максимальное число L<sub>n</sub> областей, на которые плоскость делится n прямыми?</p>

  <h4>Задача</h4>
  <p>Определить <strong>максимальное</strong> количество областей, которые получатся после разрезании</p>

  <h4>Правила</h4>
  <ol>
    <li>Пицца имеет бесконечно большой диаметр</li>
    <li>Разрез - это прямая линия</li>
  </ol>
  <p>Рассмотрим крайние случаи.</p>
</article>


<!-- 0 разрезов -->
<article class="article">
  <div class="anchor" id="piz0"></div>
  <h3>0 разрезов</h3>

<pre>
      *****
   *         *
 *             *
*               *
*               *
 *             *
   *         *
      *****
</pre>
  <p>Плоскость без прямых - это одна область</p>
  <code>n = 0</code>
  <code>L<sub>0</sub> = 1</code>
</article>


<!-- 1 разрез -->
<article class="article">
  <div class="anchor" id="piz1"></div>
  <h3>1 разрез</h3>

<pre>
      *****
   *         *
 *             *
*_______________*
*               *
 *             *
   *         *
      *****
</pre>

  <p>Один разрез - две области. Одна прямая пересекла одну область и разрезала ее на две</p>
  <p><strong>Первый</strong> разрез делит <strong>одну</strong> область, увеличивая количество областей еще на <strong>одну</strong></p>
  <p>n = 1</p>
  <p>L<sub>1</sub> = L<sub>0</sub> + 1</p>
  <p>L<sub>1</sub> = 1 + 1</p>
  <code>n = 1</code>
  <code>L<sub>1</sub> = 2</code>
</article>


<!-- 2 разреза -->
<article class="article">
  <div class="anchor" id="piz2"></div>
  <h3>2 разреза</h3>

<pre>
      *****
   *    |    *
 *      |      *
*_______|_______*
*       |       *
 *      |      *
   *    |    *
      *****
</pre>

  <p>Здесь возможны два случая</p>
  <ol>
    <li>Второй разрез не пересечет первую прямую, тогда получится три области</li>
    <li>Второй разрез пересечет первую прямую в одной точке, тогда получится четыре области</li>
  </ol>
  <p>Мы выбираем второй случай, потому что ищем <strong>максимальное</strong> количество областей</p>
  <p>Два разреза пересекутся в одной точке и поделят пиццу на четыре области</p>

  <p><strong>Второй</strong> разрез пересекает <strong>один</strong> предыдущий разрез и делит <strong>две</strong> области, увеличивая количество областей еще на <strong>две</strong></p>
  <p>n = 2</p>
  <p>L<sub>2</sub> = L<sub>1</sub> + 2</p>
  <p>L<sub>2</sub> = 2 + 2</p>
  <code>n = 2</code>
  <code>L<sub>2</sub> = 4</code>

</article>


<!-- 3 разреза -->
<article class="article">
  <div class="anchor" id="piz3"></div>
  <h3>3 разреза</h3>

<pre>
          *****
       *  \ |    *
    *      \|       *
  *         \         *
 *          |\         *
*___________|_\_________*
*           |  \        *
 *          |   \      *
  *         |    \    *
    *       |     \ *
       *    |    *
          *****
</pre>

  <p>Здесь возможны три случая</p>
  <ol>
    <li>Третий разрез может пройти через точку пересечения первых двух разрезов и тогда получится 6 областей</li>
    <li>Третий разрез может пересечь только одну прямую и тогда также получится 6 областей</li>
    <li>Третий разрез пересекает 2 прямые и получается 7 областей</li>
  </ol>
  <p>Мы выбираем третий случай, потому что ищем <strong>максимальное</strong> количество областей</p>

  <p><strong>Третий</strong> разрез пересекает <strong>два</strong> предыдущих разреза и делит <strong>три</strong> области, увеличивая количество областей еще на три</p>
  <p>n = 3</p>
  <p>L<sub>3</sub> = L<sub>2</sub> + 3</p>
  <p>L<sub>3</sub> = 4 + 3</p>
  <code>n = 3</code>
  <code>L<sub>3</sub> = 7</code>
</article>


<!-- 4 разреза -->
<article class="article">
  <div class="anchor" id="piz4"></div>
  <h3>4 разреза</h3>

<pre>
          *********
        *  \  |     *
      *     \ |       *
    *        \|       / *
  *           \      /    *
 *            |\    /      *
*_____________|_\__/________*
*             |  \/         *
 *            |  /\        *
  *           | /  \      *
    *         |/    \   *
      *       /      \*
        *    /|     *
          *********
</pre>

  <p><strong>Четвертый</strong> разрез пересекает <strong>три</strong> предыдущих разреза и делит четыре области и увеличивая количество областей еще на четыре</p>
  <p>n = 4</p>
  <p>L<sub>4</sub> = L<sub>3</sub> + 4</p>
  <p>L<sub>4</sub> = 7 + 4</p>
  <code>n = 4</code>
  <code>L<sub>4</sub> = 11</code>
</article>


<!-- n разрезов -->
<article class="article">
  <div class="anchor" id="pizn"></div>
  <h3>n разрезов</h3>

  <p>Мы заметили, что каждая прямая, пересекая одну область, разрезает ее на две. Пересекая две области разрезает их на четыре. Пересекая три области разрезает их на шесть. Пересекая k областей разрезает их на 2k областей</p>
</article>


<!-- Рекуррентное соотношение -->
<article class="article">
  <div class="anchor" id="pizr"></div>
  <h3>Рекуррентное соотношение</h3>

  <p><strong>n-й </strong>разрез пересекает <strong>n-1</strong> предыдущих разрезов и делит <strong>n</strong> пересекаемых областей, увеличивая количество областей еще на <strong>n</strong></p>
  <p>L<sub>n</sub> = L<sub>n-1</sub> + n</p>

  <p>Искомое <strong>рекурентное соотношение</strong> имеет вид</p>
  <code>L<sub>0</sub> = 1</code>
  <code>L<sub>n</sub> = L<sub>n-1</sub> + n</code>
</article>


<!-- Замкнутое выражение -->
<article class="article">
  <div class="anchor" id="pizz"></div>
  <h3>Замкнутое выражение</h3>

  <p>В отличие от формулы для <strong>Ханойской башни</strong>, здесь трудно угадать, какая замкнутая формула подходит для вычисления L<sub>n</sub></p>
  <p>Развернем формулу из <strong>рекуррентного соотношения</strong>, подставляя в выражение ее саму</p>
  <code>L<sub>n</sub> = L<sub>n-1</sub> + n</code>
  <code>L<sub>n</sub> = L<sub>n-2</sub> + (n-1) + n</code>
  <code>L<sub>n</sub> = L<sub>n-3</sub> + (n-2) + (n-1) + n</code>
  <code>L<sub>n</sub> = L<sub>n-n</sub> + (n - (n-1)) + ... + (n-1) + n</code>
  <code>L<sub>n</sub> = L<sub>0</sub> + 1 + 2 + ... + (n-1) + n</code>
  <code>L<sub>n</sub> = 1 + S<sub>n</sub></code>
  <p>Где S<sub>n</sub> - сумма первых n натуральных чисел</p>
  <p>Чтобы сложить идущие подряд натуральные числа, воспользуемся <strong>методом Гаусса</strong>.</p>
  <p><strong>Метод Гаусса</strong> состоит в том чтобы складывать числа парами. Первое с последним, второе с предпоследним и т.д. Сумма каждой пары таких чисел равна n+1</p>
  <p>Сложим n чисел одной последовательности с n числами такой же последовательности</p>
  <code>2S<sub>n</sub> = S<sub>n</sub> + S<sub>n</sub></code>
  <code>2S<sub>n</sub> = (1 + 2 + ... + (n-1) + n) + (n + (n-1) + ... + 2 + 1)</code>
  <code>2S<sub>n</sub> = (n+1) + (n+1) + ... (n+1) + (n+1)</code>
  <code>2S<sub>n</sub> = n(n+1)</code>

  <p>Отсюда находим значение S<sub>n</sub></p>
  <code>S<sub>n</sub> = n * (n+1) / 2</code>

  <p>Тогда <strong>замкнутое выражение</strong> будет</p>
  <code>L<sub>n</sub> = (n * (n+1) / 2) + 1</code>

  <p>Теперь можно посчитать число кусочков пиццы для любого числа разрезов. Посчитаем для пяти</p>
  <code>n = 5</code>
  <code>L<sub>5</sub> = (5 * (5+1) / 2) + 1 = 15 + 1 = 16</code>
</article>

