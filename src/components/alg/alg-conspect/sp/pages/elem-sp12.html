<h1>Занятие 12. Структуры данных #1. stack, queue, deque</h1>


<article class="article">
  <p>Конспект курса <strong>Спортивное программирование в ЯрГУ</strong></p>
  <p>Конспект видео <strong>Занятие 12. Структуры данных #1. stack, queue, deque</strong> от 2024.11.30</p>
  <p><a href="https://vkvideo.ru/@sportprog_yarsu">vkvideo.ru/@sportprog_yarsu</a></p>
  <p><a href="https://codeforces.com/group/1LSR3R5twn/contest/568747">Codeforces Контест 570478</a></p>
</article>


<!-- Содержание -->
<article class="article">
  <h2>Содержание</h2>

  <p><a href="#p1">Структуры данных</a></p>
  <p>
    <a href="#task1">Задача A. Последовательность</a>
    <br><a href="#task2">Задача B. Скобки Скобочки</a>
    <br><a href="#task3">Задача C. Скобочная последовательность</a>
    <br><a href="#task4">Задача D. Нужно больше деков</a>
    <br><a href="#task5">Задача E. Пробка в Цветочном городе</a>
    <br><a href="#task6">Задача F. Скобочки-2</a>
    <br><a href="#task7">Задача G. Модифицированный стек</a>
    <br><a href="#task8">Задача H. Модифицированная очередь - 2</a>
    <br><a href="#task9">Задача I. Настольный теннис</a>
    <br><a href="#task10">Задача J. Великое Лайнландское переселение</a>
    <br><a href="#task11">Задача K. Минимум на отрезке</a>
    <br><a href="#task12">Задача L. ПОЛИЗ</a>
    <br><a href="#task13">Задача M. Дикие обезьяны</a>
    <br><a href="#task14">Задача N. 38 попугаев</a>
    <br><a href="#task15">Задача O. Правильная скобочная подпоследовательность</a>
    <br><a href="#task16">Задача P. Гистограмма</a>
    <br><a href="#task17">Задача Q. Вежливые соседи</a>
    <br><a href="#task18">Задача R. Небоскрёбы (усложнённая версия)</a>
    <br><a href="#task19">Задача S. Майк и футы</a>
    <br><a href="#task20">Задача T. Две головы - лучше</a>
    <br><a href="#task21">Задача U. Последнее слово техники</a>
  </p>
</article>


<!-- Теория чисел -->
<article class="article">
  <div class="anchor" id="p1"></div>
  <h3>Теория чисел</h3>

</article>


<!-- Задача A. Последовательность -->
<article class="article">
  <div class="anchor" id="task1"></div>
  <h3>Задача A. Последовательность</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 16мб</i></div>

  <p>Дана последовательность чисел, завершающаяся нулем. Вывести четные числа в прямом порядке, нечетные - в обратном.</p>

  <h4>Пример</h4>
  <code>13 2 4 21 45 67 23 46 20 1 0</code>
<pre>
2 4 46 20
1 23 67 45 21 13
</pre>

</article>


<!-- Задача B. Скобки Скобочки -->
<article class="article">
  <div class="anchor" id="task2"></div>
  <h3>Задача B. Скобки Скобочки</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 16мб</i></div>

  <p>Определить, является ли скобочная последовательность правильной.</p>

  <h4>Входные данные</h4>
  <p>Задана последовательность скобок, состоящая из скобок (, ) и [, ].</p>

  <h4>Выходные данные</h4>
  <p>Вывести Yes, если последовательность правильная, No - в противном случае.</p>

  <h4>Пример 1</h4>
  <code>[()]</code>
  <code>Yes</code>

  <h4>Пример 2</h4>
  <code>([[]()])</code>
  <code>Yes</code>

  <h4>Пример 3</h4>
  <code>(([()([])]))[]</code>
  <code>Yes</code>

  <h4>Пример 4</h4>
  <code>((([)]))</code>
  <code>No</code>

</article>


<!-- Задача C. Скобочная последовательность -->
<article class="article">
  <div class="anchor" id="task3"></div>
  <h3>Задача C. Скобочная последовательность</h3>

  <div><i>Ограничение по времени 2с
  <br>Ограничение по памяти 256мб</i></div>

  <p>Правильная скобочная последовательность определяется следующим способом:</p>
  <ol>
    <li>пустая строка - правильная скобочная последовательность;</li>
    <li>если "s" - правильная скобочная последовательность, то "(s)" - тоже правильная скобочная последовательность;</li>
    <li>если "s" и "t" - правильные скобочные последовательности, то "st" - тоже правильная скобочная последовательность.</li>
  </ol>
  <p>Дана скобочная последовательность. Достройте ее до правильной, добавив в конец наименьшее возможное число символов. Если это сделать невозможно, выведите IMPOSSIBLE.</p>

  <h4>Входные данные</h4>
  <p>Во входных данных содержится единственная строка длиной от 1 до 200000 символов, состоящая только из скобок "(" и ")".</p>

  <h4>Выходные данные</h4>
  <p>Если невозможно достроить последовательность до правильной, добавив в ее конец некоторое количество символов, выведите IMPOSSIBLE. Иначе выведите правильную скобочную последовательность, полученную из исходной строки добавлением наименьшего числа символов в конец.</p>

  <h4>Пример 1</h4>
  <code>(()</code>
  <code>(())</code>

  <h4>Пример 2</h4>
  <code>(()())</code>
  <code>(()())</code>

  <h4>Пример 3</h4>
  <code>())(()</code>
  <code>IMPOSSIBLE</code>

  <h4>Пример 4</h4>
  <code>(()(()(</code>
  <code>(()(()()))</code>

</article>


<!-- Задача D. Нужно больше деков -->
<article class="article">
  <div class="anchor" id="task4"></div>
  <h3>Задача D. Нужно больше деков</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 64мб</i></div>

  <p>Восьмиклассник Всеволод начал изучать программирование, и первое что ему в этом деле понравилось - структуры данных! Особенно ему понравился дек, а он, как известно, любит изобретать.</p>

  <p>Всеволод хочет иметь интерактивную программу для работы с деком целых чисел, и он её подробно описал. Вводится одна из следующих команд: "push_back" - добавить элемент в конец дека, "pop_back" - удалить элемент из конца дека, "push_front" - добавить элемент в начало дека, "pop_front" - удалить элемент из начала дека, "show_front" - вывести на экран элемент стоящий в начале дека, "show_back" - вывести на экран элемент стоящий в конце дека.</p>

  <p>Так же Всеволод не хочет, чтобы каждый раз, когда он пытается удалить или показать элемент из пустого дека, программа не завершалась с ошибкой, а вместо этого, при попытке совершить такую операцию, выводить на экран сообщение "DEQUE IS EMPTY!".</p>

  <p>Каждый раз когда вводится команда добавления элмента в дек, после команды надо ввести добавляемое значение (целое число не превосходящее 10<sup>5</sup> по абсолютной величине). Каждый раз когда вводится команда показа элемента, нужно вывести нужное значение либо сообщение об ошибке.</p>

  <p>Команды добавления и удаления элемента из дека ничего не должны выводить, за исключением, быть может, сообщения об ошибке.</p>

  <p>Ну и как любая программа, она должна когда-нибудь завершиться, для этого нужно будет воспользоваться командой "Bye".</p>

  <p>Всеволод готовится к олимпиаде по программированию, поэтому у него нет времени для написания этой программы. Помогите Всеволоду написать её (даже если ваше имя тоже Всеволод).</p>

  <h4>Входные данные</h4>
  <p>На вход подаются описанные выше команды (без кавычек) пока не введется команда завершения. Обратите внимание на регистр входных и выходных данных.</p>

  <h4>Выходные данные</h4>
  <p>Вывести результаты работы команд, каждый с новой строки (без кавычек).</p>

  <h4>Пример</h4>
<pre>
push_back 1
push_back 2
push_front 3
show_front
pop_front
show_back
show_front
Bye
</pre>
<pre>
3
2
1
</pre>
</article>


<!-- Задача E. Пробка в Цветочном городе -->
<article class="article">
  <div class="anchor" id="task5"></div>
  <h3>Задача E. Пробка в Цветочном городе</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 64мб</i></div>

  <p>Вернувшись из Солнечного города, Незнайка рассказал всем своим друзьям, что у каждого коротышки может быть личный автомобиль. Тут же среди жителей Цветочного города нашлось так много желающих стать автомобилистами, что Винтику и Шпунтику пришлось наладить серийное производство автомобилей на газированной воде с сиропом. Теперь на перекрёстке улицы Колокольчиков и улицы Маргариток иногда возникают заторы из нескольких автомобилей.</p>

  <p>Улица Колокольчиков идёт с юга на север и имеет две полосы. Движение на ней правостороннее: по восточной полосе автомобили едут с юга на север, а по западной — с севера на юг. Улица Маргариток — однополосная и перпендикулярна улице Колокольчиков. По ней организовано одностороннее движение, имеющее разное направление от улицы Колокольчиков (см. рисунок).</p>

  <p>Вчера Незнайка шёл домой и увидел, что на улице Колокольчиков с разных сторон от перекрёстка с улицей Маргариток стоят автомобили. Кто-то из водителей хотел ехать прямо, кто-то налево или направо. Автомобиль способен проехать через перекрёсток за одну секунду, но если водитель совершает левый поворот, он должен сперва пропустить встречные автомобили, следующие прямо и направо. За сколько секунд все автомобили проехали перекрёсток, если считать, что новые автомобили за это время к перекрёстку не подъезжали?</p>

  <h4>Входные данные</h4>
  <p>В первой строке записана последовательность символов «F», «L» и «R», описывающая, куда хотели далее следовать водители автомобилей, подъехавших к перекрёстку с юга. «F» означает, что они ехали прямо, «L» — что поворачивали налево, «R» — что направо. Автомобили перечислены в порядке от самого близкого к перекрёстку до самого далёкого. Во второй строке в том же формате описаны автомобили, подъехавшие к перекрёстку с севера. Обе последовательности имеют длину от 1 до 1000.</p>

  <h4>Выходные данные</h4>
  <p>Выведите время в секундах, за которое все автомобили проехали перекрёсток.</p>

  <h4>Пример 1</h4>
<pre>
RLF
FF
</pre>
  <code>4</code>

  <h4>Пример 2</h4>
<pre>
L
L
</pre>
  <code>1</code>
</article>


<!-- Задача F. Скобочки-2 -->
<article class="article">
  <div class="anchor" id="task6"></div>
  <h3>Задача F. Скобочки-2</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 16мб</i></div>

</article>


<!-- Задача G. Модифицированный стек -->
<article class="article">
  <div class="anchor" id="task7"></div>
  <h3>Задача G. Модифицированный стек</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 256мб</i></div>

  <p>Напомним, что называется правильной скобочной последовательностью:</p>
  <ol>
    <li>пустая строка является правильной скобочной последовательностью;</li>
    <li>если строка a — правильная скобочная последовательность, то строки (a), [a] — тоже правильные скобочные последовательности;</li>
    <li>если строки a и b — правильные скобочные последовательности, то строка ab — тоже правильная скобочная последовательность.</li>
  </ol>
  <p>Задана строка S, состоящая из квадратных и круглых скобок. Разрешается заменять квадратную открывающую скобку ([) на круглую открывающую (() и наоборот, а также квадратную закрывающую скобку (]) на круглую закрывающую ()) и наоборот.</p>

  <p>За одно действие разрешается изменить ровно один символ строки. Необходимо за минимальное число действий преобразовать S в правильную скобочную последовательность.</p>

  <h4>Входные данные</h4>
  <p>Дана строка S. Ее длина не превосходит 100 000 символов.</p>

  <h4>Выходные данные</h4>
  <p>Выведите искомое минимальное число действий или -1, если преобразовать S в правильную скобочную последовательность невозможно.</p>

  <h4>Пример 1</h4>
  <code>(())[]</code>
  <code>0</code>

  <h4>Пример 2</h4>
  <code>[(])</code>
  <code>2</code>

  <h4>Пример 3</h4>
  <code>((]]]</code>
  <code>-1</code>
</article>


<!-- Задача H. Модифицированная очередь - 2 -->
<article class="article">
  <div class="anchor" id="task8"></div>
  <h3>Задача H. Модифицированная очередь - 2</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 256мб</i></div>

</article>


<!-- Задача I. Настольный теннис -->
<article class="article">
  <div class="anchor" id="task9"></div>
  <h3>Задача I. Настольный теннис</h3>

  <div><i>Ограничение по времени 2с
  <br>Ограничение по памяти 256мб</i></div>

</article>


<!-- Задача J. Великое Лайнландское переселение -->
<article class="article">
  <div class="anchor" id="task10"></div>
  <h3>Задача J. Великое Лайнландское переселение</h3>

  <div><i>Ограничение по времени 0.8с
  <br>Ограничение по памяти 64мб</i></div>

</article>


<!-- Задача K. Минимум на отрезке -->
<article class="article">
  <div class="anchor" id="task11"></div>
  <h3>Задача K. Минимум на отрезке</h3>

  <div><i>Ограничение по времени 0.5с
  <br>Ограничение по памяти 256мб</i></div>

</article>


<!-- Задача L. ПОЛИЗ -->
<article class="article">
  <div class="anchor" id="task12"></div>
  <h3>Задача L. ПОЛИЗ</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 256мб</i></div>

</article>


<!-- Задача M. Дикие обезьяны -->
<article class="article">
  <div class="anchor" id="task13"></div>
  <h3>Задача M. Дикие обезьяны</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 256мб</i></div>

</article>


<!-- Задача N. 38 попугаев -->
<article class="article">
  <div class="anchor" id="task14"></div>
  <h3>Задача N. 38 попугаев</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 64мб</i></div>

</article>


<!-- Задача O. Правильная скобочная подпоследовательность -->
<article class="article">
  <div class="anchor" id="task15"></div>
  <h3>Задача O. Правильная скобочная подпоследовательность</h3>

  <div><i>Ограничение по времени 5с
  <br>Ограничение по памяти 256мб</i></div>

</article>


<!-- Задача P. Гистограмма -->
<article class="article">
  <div class="anchor" id="task16"></div>
  <h3>Задача P. Гистограмма</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 256мб</i></div>

</article>


<!-- Задача Q. Вежливые соседи -->
<article class="article">
  <div class="anchor" id="task17"></div>
  <h3>Задача Q. Вежливые соседи</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 256мб</i></div>

</article>


<!-- R. Небоскрёбы (усложнённая версия) -->
<article class="article">
  <div class="anchor" id="task18"></div>
  <h3>Задача R. Небоскрёбы (усложнённая версия)</h3>

  <div><i>Ограничение по времени 3с
  <br>Ограничение по памяти 512мб</i></div>

</article>


<!-- U. Последнее слово техники -->
<article class="article">
  <div class="anchor" id="task21"></div>
  <h3>Задача U. Последнее слово техники</h3>

  <div><i>Ограничение по времени 2с
  <br>Ограничение по памяти 256мб</i></div>

</article>

