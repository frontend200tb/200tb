<article class="article">
  <strong>Олимпиадное программирование в МИРЭА</strong>
  <p><a href="https://codeforces.com/group/LB1sSRhotq/contests" target="_blank">Codeforces МИРЭА</a></p>
  <p><a href="https://vk.com/mireacoding" target="_blank">vk.com/mireacoding</a></p>
  <p><a href="https://vkvideo.ru/@mireacoding" target="_blank">vkvideo.ru/@mireacoding</a></p>
</article>


<article class="article">
  <h1>1 Ознакомительный тур</h1>
  <p><a href="https://codeforces.com/group/LB1sSRhotq/contest/262930" target="_blank">Codeforces Контест 262930</a></p>
</article>


<!-- Содержание -->
<article class="article">
  <h2>Содержание</h2>

  <p>
        <a href="#task1">Задача A. Сумма по модулю</a>
    <br><a href="#task2">Задача B. Произведение по модулю</a>
    <br><a href="#task3">Задача C. Игра в слова</a>
    <br><a href="#task4">Задача D. Игра в слова с запросами!</a>
    <br><a href="#task5">Задача E. Игра в слова на подотрезках!</a>
  </p>
</article>


<!-- Задача A. Сумма по модулю -->
<article class="article">
  <div class="anchor" id="task1"></div>
  <h3>Задача A. Сумма по модулю</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 256мб</i></div>

  <p>В этой задаче требуется вычислить сумму всех элементов массива по простому модулю.</p>

  <h4>Входные данные</h4>
  <p>В первой строке записано натуральное число n (1 ≤ n ≤ 500000) - количество элементов в массиве. Следующая строка содержит n целых чисел a1,a2,...,an (-10¹⁸ ≤ ai ≤ 10¹⁸)- элементы массива, записанные через пробел.</p>

  <h4>Выходные данные</h4>
  <p>Выведите единственное число s (0 ≤ s &lt; 10⁹+7), равное сумме всех элементов ai, взятой по простому модулю 10⁹+7.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
1
1000000007
</pre>
    <code>0</code>

    <h4>Пример 2</h4>
<pre>
1
-1000000006
</pre>
    <code>1</code>

    <h4>Пример 3</h4>
<pre>
4
1 2 4 -1000000000000000000
</pre>
    <code>999999965</code>
  </details>

  <details>
    <summary>Решение</summary>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  // ускорение ввода
  ios_base::sync_with_stdio(false);
  cin.tie(nullptr);

  // ввод данных
  int n; // длина массива
  cin >> n;

  // решение
  long long mod = 1e9 + 7;
  long long sum = 0;
  // необходимо вывести сумму n чисел по модулю mod
  long long ai = 0;

  while (n--) {
    cin >> ai;
    // воспользуемся формулой r = ( (a % b) + b ) % b
    sum = ( (sum + ai) % mod + mod) % mod;
  }

  // вывод результата
  cout &lt;&lt; sum;
}
</pre>
  </details>
</article>


<!-- Задача B. Произведение по модулю -->
<article class="article">
  <div class="anchor" id="task2"></div>
  <h3>Задача B. Произведение по модулю</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 256мб</i></div>

  <p>В этой задаче требуется вычислить произведение всех элементов массива по простому модулю.</p>

  <h4>Входные данные</h4>
  <p>В первой строке записано натуральное число n (1 ≤ n ≤ 500000) - количество элементов в массиве.</p>

  <p>Следующая строка содержит n целых чисел a1, a2, ..., an (-10¹⁸ ≤ ai ≤ 10¹⁸) - элементы массива, записанные через пробел.</p>

  <h4>Выходные данные</h4>
  <p>Выведите единственное число p (0 ≤ p &lt; 10⁹+7), равное произведению всех элементов ai, взятому по простому модулю 10⁹+7.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
1
1000000007
</pre>
    <code>0</code>

    <h4>Пример 2</h4>
<pre>
1
-1000000006
</pre>
    <code>1</code>

    <h4>Пример 3</h4>
<pre>
4
1 2 4 -1000000000000000000
</pre>
    <code>999999615</code>
  </details>

  <details>
    <summary>Решение</summary>
<pre>
#include &lt;iostream&gt;

using namespace std;

int main() {
  // ускорение ввода
  ios_base::sync_with_stdio(false);
  cin.tie(nullptr);

  // ввод данных
  int n; // длина массива
  cin >> n;

  // решение
  long long mod = 1e9 + 7;
  long long mult = 1;
  // необходимо вывести произведение n чисел по модулю mod
  long long ai = 0;

  while (n--) {
    cin >> ai;
    ai = (ai % mod + mod) % mod;
    // воспользуемся формулой r = ( (a % b) + b ) % b
    mult = ( (mult * ai) % mod + mod) % mod;
  }

  // вывод результата
  cout &lt;&lt; mult;
}
</pre>
  </details>
</article>


<!-- Задача C. Игра в слова -->
<article class="article">
  <div class="anchor" id="task3"></div>
  <h3>Задача C. Игра в слова</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 256мб</i></div>

  <p>В данной задаче дано слово. Необходимо посчитать количество различных слов, которые можно получить из данного, если разрешено переставлять буквы произвольным образом.</p>

  <h4>Входные данные</h4>
  <p>Первая строка содержит натуральное n (1 ≤ n ≤ 10⁶) - длина слова. В следующей строке записано слово длины n, состоящее из маленьких латинских букв.</p>

  <h4>Выходные данные</h4>
  <p>Выведите ответ на задачу, взятый по модулю простого числа 10⁹+7.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
3
aab
</pre>
    <code>3</code>

    <h4>Пример 2</h4>
<pre>
3
abc
</pre>
    <code>6</code>

    <h4>Пример 3</h4>
<pre>
9
aaabbbccc
</pre>
    <code>1680</code>

    <h4>Пример 4</h4>
<pre>
10
zzzzzzzzzz
</pre>
    <code>1</code>

    <h4>Пример 5</h4>
<pre>
26
cprcvjaujgnxidbtiagzoxbdrv
</pre>
    <code>612752975</code>
    <p>В первом тестовом примере дано слово aab. Возможные варианты: aab, aba, baa. Перестановкой букв можно получить 3 различных слова.</p>

    <p>Во втором тестовом примере дано слово abc. Возможные варианты: abc, acb, bac, bca, cab, cba. Перестановкой букв можно получить 6 различных слов.</p>
  </details>
</article>


<!-- Задача D. Игра в слова с запросами! -->
<article class="article">
  <div class="anchor" id="task4"></div>
  <h3>Задача D. Игра в слова с запросами!</h3>

  <div><i>Ограничение по времени 2с
  <br>Ограничение по памяти 256мб</i></div>

  <p>В данной задаче дано слово. Необходимо посчитать количество различных слов, которые можно получить из данного, если разрешено переставлять буквы произвольным образом. Вы думали, что это все? Конечно же, нет. Далее необходимо обработать все запросы замены символа на определенной позиции на новый символ и после каждой замены пересчитывать ответ на задачу и выводить новый.</p>

  <h4>Входные данные</h4>
  <p>В первой строке дана длина строки - натуральное число n (1 ≤ n ≤ 10⁶).</p>

  <p>В следующей строке дано слово w длины n, состоящее только из строчных букв латинского алфавита.</p>

  <p>Затем следует целое число q (1 ≤ q ≤ 10⁶) - количество запросов на замену очередного символа на новый.</p>

  <p>Далее следует q строк, каждая из которых содержит описание очередного запроса pi ci, что означает, что символ на позиции pi(1 ≤ pi ≤ n) был заменен символом ci.</p>

  <h4>Выходные данные</h4>
  <p>Выведите q+1 целых чисел ai(1 ≤ ai &lt; 10⁹+7) - ответ на задачу, взятый по модулю простого числа 10⁹+7. Смотрите разбор тестового примера в примечании.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
3
aba
3
2 a
3 z
1 w
</pre>
<pre>
3
1
3
6
</pre>

    <h4>Пример 2</h4>
<pre>
10
aaaaabbbbb
12
2 b
4 b
7 a
9 a
3 c
4 a
5 b
6 c
7 a
8 b
9 c
10 a
</pre>
<pre>
252
210
120
210
252
1260
1260
1260
3150
3150
3150
4200
4200
</pre>
    <p>В тестовом примере дано слово aba длины 3. Изначально, можно получить всего три различных слова: aab, aba, baa.</p>

    <p>После первого запроса слово становится равным aaa, для которого возможно получить только одно слово - само это слово.</p>

    <p>После второго запроса слово становится равным aaz, для которого, снова, можно получить три различных слова: aaz, aza, zaa.</p>

    <p>И, наконец, после третьего запроса слово становится равным waz, для которого можно получить шесть вариантов: awz, azw, waz, wza, zaw, zwa.</p>
  </details>
</article>


<!-- Задача E. Игра в слова на подотрезках! -->
<article class="article">
  <div class="anchor" id="task5"></div>
  <h3>Задача E. Игра в слова на подотрезках!</h3>

  <div><i>Ограничение по времени 4с
  <br>Ограничение по памяти 256мб</i></div>

  <p>В данной задаче дано слово. Необходимо уметь быстро отвечать на запросы о количестве различных слов, которые можно получить путем перестановки букв заданного непрерывного подотрезка слова, а также заменять все символы новым на некотором подотрезке слова.</p>

  <h4>Входные данные</h4>
  <p>В первой строке дана длина строки - натуральное число n (1 ≤ n ≤ 10⁵).</p>

  <p>В следующей строке дано слово w длины n, состоящее только из строчных букв латинского алфавита.</p>

  <p>Затем следует целое число q (1 ≤ q ≤ 10⁵) - количество запросов.</p>

  <p>Далее следует q строк, каждая из которых содержит описание очередного запроса к некоторому подотрезку слова:</p>
  <ul>
    <li>Запрос set Lj Rj Cj означает, что нужно заменить все символы w[i](Lj≤i≤Rj) на символ Cj</li>
    <li>Запрос get Lj Rj означает, что нужно посчитать ответ на задачу для слова w[Lj]...w[Rj].</li>
  </ul>

  <p>Гарантируется, что длина отрезка в запросе натуральная, отрезок не выходит за пределы строки, и символ в запросе - строчная латинская буква.</p>

  <h4>Выходные данные</h4>
  <p>Для каждого запроса типа get выведите ответ на задачу, взятый по модулю простого числа 10⁹+7. Смотрите разбор тестового примера в примечании.</p>

  <details>
    <summary>Примеры</summary>
    <h4>Пример 1</h4>
<pre>
3
aba
6
set 1 3 a
set 3 3 z
get 2 3
get 1 3
set 1 1 w
get 1 3
</pre>
<pre>
2
3
6
</pre>

    <h4>Пример 2</h4>
<pre>
5
mirea
22
set 1 5 a
set 2 4 b
set 3 4 c
set 4 4 d
get 1 1
get 1 2
get 1 3
get 1 4
get 1 5
get 2 2
get 2 3
get 2 4
get 2 5
get 3 3
get 3 4
get 3 5
get 4 4
get 4 5
get 5 5
set 1 4 z
get 1 4
get 1 5
</pre>
<pre>
1
2
6
24
60
1
2
6
24
1
2
6
1
2
1
1
5
</pre>
    <p>В тестовом примере дано слово aba длины 3.</p>

    <p>После первого запроса слово становится равным aaa.</p>

    <p>После второго запроса слово становится равным aaz.</p>

    <p>На третий запрос необходимо посчитать ответ для слова az, который равен 2: az и za.</p>

    <p>На четвертый запрос необходимо посчитать ответ для слова aaz, который равен 3: aaz, aza и zaa.</p>

    <p>После пятого запроса слово становится равным waz.</p>

    <p>На шестой запрос необходимо посчитать ответ для слова waz, для которого можно получить шесть вариантов: awz, azw, waz, wza, zaw, zwa.</p>
  </details>
</article>


