<!-- Задача D. Загадочная посылка -->
<div><i>Ограничение по времени 1с
<br>Ограничение по памяти 64мб</i></div>

<p>Петя решил поздравить своего друга из Австралии с предстоящим днем рождения, отправив ему открытку. Чтобы сделать свой сюрприз более загадочным, он решил создать цепь. Цепью назовем такую последовательность конвертов A = {a1, a2, ..., an}, что ширина и высота i-го конверта строго больше ширины и высоты (i-1)-го соответственно, а размером цепи — количество конвертов в ней. Из имеющихся у Пети конвертов он хочет создать наибольшую по размеру цепь, в которую можно было бы вложить открытку. Открытку можно вложить в цепь, если ширина и высота открытки меньше ширины и высоты меньшего конверта в цепи соответственно. Поворачивать конверты или открытку запрещено. Поскольку у Пети очень много конвертов и очень мало времени, то эта нелегкая задача возлагается на Вас.</p>

<h4>Входные данные</h4>
<p>Первая строка содержит целые числа n, w, h (1 ≤ n ≤ 5000, 1 ≤ w, h ≤ 10⁶) — количество конвертов, имеющихся у Пети в распоряжении, ширину и высоту открытки соответственно. Далее содержится n строк, в каждой из которых находится два целых числа wi и hi — ширина и высота i-го конверта (1 ≤ wi, hi ≤ 10⁶).</p>

<h4>Выходные данные</h4>
<p>В первую строку выведите размер максимальной цепи. Во вторую строку выведите через пробелы номера конвертов, образующих такую цепь, начиная с номера наименьшего конверта. Помните, что в наименьший конверт должна поместиться открытка. Если существует несколько цепей максимального размера, выведите любую.</p>

<p>Если открытка не помещается ни в один конверт, то выведите единственную строку, содержащую число 0.</p>

<details>
  <summary>Примеры</summary>
  <h4>Пример 1</h4>
<pre>
2 1 1
2 2
2 2
</pre>
<pre>
1
1
</pre>

  <h4>Пример 2</h4>
<pre>
3 3 3
5 4
12 11
9 8
</pre>
<pre>
3
1 3 2
</pre>
</details>

<details>
  <summary>Решение неправильный ответ на тесте 16</summary>

  <div>
    <a href="https://codeforces.com/contest/4/problem/D" target="_blank">Задача 4D</a>
    <br><a href="https://codeforces.com/contest/4" target="_blank">Codeforces Beta Round 4 (Дивизион 2) 2010-03-12</a>
  </div>

<pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;
#include &lt;algorithm&gt;

using namespace std;

bool cmp(const pair&lt;pair&lt;int, int&gt;, int&gt; a, const pair&lt;pair&lt;int, int&gt;, int&gt; b)
{
  if (a.first.first == b.first.first) return a.first.second &lt; b.first.second;
  return a.first.first &lt; b.first.first;
}

int main() {
  // ввод данных
  int n; // число конвертов
  int w; // ширина открытки
  int h; // высота открытки
  cin >> n >> w >> h;
  int a, b;

  // ширина, высота, номер конверта
  vector&lt;pair&lt;pair&lt;int, int&gt;, int &gt; &gt; Konv(n);
  for (int i = 0; i &lt; n; i++) {
    cin >> a >> b;
    Konv[i] = make_pair(make_pair(a, b), i + 1);
  }

  // решение
  int cnt = 0;
  sort(Konv.begin(), Konv.end(), cmp);
  vector&lt;int&gt; Nabor;
  pair&lt;int, int&gt; prev = make_pair(w, h);

  // соберем цепь конвертов
  for (int i = 0; i &lt; n; i++) {
    if (Konv[i].first.first > prev.first && Konv[i].first.second > prev.second) {
      cnt++;
      Nabor.push_back(Konv[i].second);
      prev = Konv[i].first;
    }
  }

  // вывод результата
  cout &lt;&lt; cnt &lt;&lt; '\n';
  for (int i = 0; i &lt; Nabor.size(); i++) {
    cout &lt;&lt; Nabor[i] &lt;&lt; ' ';
  }
}
</pre>
</details>
