<!-- Задача A. Поезд и Петя -->
<div><i>Ограничение по времени 1с
<br>Ограничение по памяти 64мб</i></div>

<p>Пете очень интересно ездить в поездах. Так интересно, что он засыпает.</p>

<p>Однажды летом мальчик Петя ехал на поезде из города А в город Б и, как обычно, спал. Потом он проснулся, начал смотреть в окно и заметил, что на каждой станции есть флаг определенного цвета.</p>

<p>Мальчик начал запоминать последовательность цветов флагов, которые он видел. Однако вскоре он опять уснул. К сожалению, его покой длился не долго и он вновь проснулся и продолжил запоминать цвета. Потом он уснул, и в этот раз сон длился до конца поездки.</p>

<p>Уже на вокзале он рассказал родителям о своем занятии и выписал две последовательности цветов, которые увидел в первый и второй период бодрствования, соответственно.</p>

<p>Родители знают, что Петя любит фантазировать. Они предоставили вам список цветов флагов станций, которые последовательно посещает поезд по пути из А в Б, и попросили узнать, мог ли Петя увидеть эти последовательности на пути из А в Б, или из Б в А. Помните, что у Пети было ровно два периода бодрствования.</p>

<p>Цвета родители обозначили строчными латинскими буквами. Одинаковые буквы обозначают одинаковые цвета, а разные буквы — разные цвета.</p>

<h4>Входные данные</h4>
<p>Входные данные состоят из трех строк. Первая содержит непустую строку длины не более 10⁵, состоящую из строчных латинских букв, — цвета флагов на промежуточных станциях по пути из А в Б. По пути из Б в А, поезд посещает эти же станции, но в обратном порядке.</p>

<p>Вторая строка содержит последовательность, выписанную Петей в первый период бодрствования. Третья строка содержит выписанную во второй период бодрствования последовательность. Обе последовательности непустые, состоят из строчных латинских букв и не превышают по длине 100 букв каждая. Каждая из последовательностей записана в хронологическом порядке.</p>

<h4>Выходные данные</h4>
<p>Выведити одно из четырех слов без кавычек:</p>
<ul>
  <li>«forward» — если Петя мог увидеть такие последовательности только на пути из А в Б;</li>
  <li>«backward» — если Петя мог увидеть такие последовательности только на пути из Б в А;</li>
  <li>«both» — если Петя мог увидеть такие последовательности как на пути из А в Б, так и на пути из Б в А;</li>
  <li>«fantasy» — если Петя не мог увидеть такие последовательности.</li>
</ul>

<details>
  <summary>Примеры</summary>
  <h4>Пример 1</h4>
<pre>
atob
a
b
</pre>
  <code>forward</code>

  <h4>Пример 2</h4>
<pre>
aaacaaa
aca
aa
</pre>
  <code>both</code>
  <p>Считается, что поезд все время движется, так что один и тот же флаг невозможно увидеть два раза. На станциях А и Б флагов нет.</p>
</details>
