<!-- Задача C. Система регистрации -->
<div><i>Ограничение по времени 5с
<br>Ограничение по памяти 64мб</i></div>

<p>В скором времени в Берляндии откроется новая почтовая служба "Берляндеск". Администрация сайта хочет запустить свой проект как можно быстрее, поэтому они попросили Вас о помощи. Вам предлагается реализовать прототип системы регистрации сайта.</p>

<p>Система должна работать по следующему принципу. Каждый раз, когда новый пользователь хочет зарегистрироваться, он посылает системе запрос name со своим именем. Если данное имя не содержится в базе данных системы, то оно заносится туда и пользователю возвращается ответ OK, подтверждающий успешную регистрацию. Если же на сайте уже присутствует пользователь с именем name, то система формирует новое имя и выдает его пользователю в качестве подсказки, при этом подсказка также добавляется в базу данных. Новое имя формируется по следующему правилу. К name последовательно приписываются числа, начиная с единицы (name1, name2, ...), и среди них находят такое наименьшее i, что namei не содержится в базе данных сайта.</p>

<h4>Входные данные</h4>
<p>В первой строке входных данных задано число n (1 ≤ n ≤ 10⁵). Следующие n строк содержат запросы к системе. Каждый запрос представляет собой непустую строку длиной не более 32 символов, состоящую только из строчных букв латинского алфавита.</p>

<h4>Выходные данные</h4>
<p>В выходных данных должно содержаться n строк — ответы системы на запросы: ОК в случае успешной регистрации, или подсказку с новым именем, если запрашиваемое уже занято.</p>

<details>
  <summary>Примеры</summary>
  <h4>Пример 1</h4>
<pre>
4
abacaba
acaba
abacaba
acab
</pre>
<pre>
OK
OK
abacaba1
OK
</pre>

  <h4>Пример 2</h4>
<pre>
6
first
first
second
second
third
third
</pre>
<pre>
OK
first1
OK
second1
OK
third1
</pre>
</details>

<details>
  <summary>Решение</summary>

  <div>
    <a href="https://codeforces.com/contest/4/problem/C" target="_blank">Задача 4C</a>
    <br><a href="https://codeforces.com/contest/480" target="_blank">Codeforces Beta Round 4 (Дивизион 2) 2010-03-12</a>
  </div>

  <h4>Пример 3</h4>
<pre>
6
q
q
q
q
q
q
</pre>
<pre>
OK
q1
q2
q3
q4
q5
</pre>
<pre>
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &lt;map&gt;

using namespace std;

int main() {
  // число запросов
  int q;
  cin >> q;

  // решение
  // база данных с уникальными ключами
  map&lt;string, int&gt; db;

  while (q--) {
    // следующее имя
    string name;
    cin >> name;
    auto ptr = db.find(name);
    if (ptr == db.end()) {

      // если такого имени нет
      // добавление в базу данных
      // 1 - число одинаковых имен
      pair&lt;string, int&gt; p = { name, 1 };
      db.insert(p);
      cout &lt;&lt; "OK\n";
    } else {

      // если такое имя уже есть
      int idx = ptr->second;
      string new_name = name + to_string(idx);
      pair&lt;string, int&gt; p = { new_name, 1 };
      // добавление в базу данных
      db.insert(p);
      cout &lt;&lt; new_name &lt;&lt; '\n';
      // обновим число одинаковых имен
      ptr->second = idx + 1;
    }
  }
}
</pre>
</details>
