<!-- Задача D. Скобочная последовательность -->
<div><i>Ограничение по времени 1с
<br>Ограничение по памяти 64мб</i></div>

<p>Перед вами еще одна задача на правильные скобочные последовательности.</p>

<p>Напомним, что скобочная последовательность называется правильной, если путем вставки в нее символов «+» и «1» можно получить из нее корректное математическое выражение. Например, последовательности «(())()», «()» и «(()(()))» — правильные, в то время как «)(», «(()» и «(()))(» — нет.</p>

<p>Вам задан шаблон скобочной последовательности, в котором присутствуют символы «(», «)» и «?». Вам надо заменить каждый символ «?» на скобку таким образом, чтобы получилась правильная скобочная последовательность.</p>

<p>Для каждого символа «?» в шаблоне известна стоимость замены его на «(» и «)». Ваша задача из всех возможных вариантов выбрать самый дешевый вариант.</p>

<h4>Входные данные</h4>
<p>В первой строке входного файла записан непустой шаблон четной длины, состоящий из символов «(», «)» и «?». Его длина не превосходит 5·10⁴. Далее содержится m строк, где m — количество символов «?» в шаблоне. Каждая строка состоит из двух целых чисел aᵢ и bᵢ (1 ≤ aᵢ, bᵢ ≤ 10⁶), где aᵢ стоимость замены i-го символа «?» на открывающуюся скобку, а bᵢ — на закрывающуюся.</p>

<h4>Выходные данные</h4>
<p>В первую строку выведите стоимость искомой последовательности. Во вторую выведите искомую последовательность.</p>

<p>Если решения не существует, выведите -1. Если решений несколько, выведите любое.</p>

<details>
  <summary>Примеры</summary>
<pre>
(??)
1 2
2 8
</pre>
<pre>
4
()()
</pre>
</details>

<details>
  <summary>Решение</summary>

  <div>
    <a href="https://codeforces.com/contest/3/problem/D" target="_blank">Задача 3D</a>
    <br><a href="https://codeforces.com/contest/3" target="_blank">Codeforces Beta Round 3 2010-03-07</a>
  </div>
</details>
