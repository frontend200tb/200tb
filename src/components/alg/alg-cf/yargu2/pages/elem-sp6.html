<article class="article">
  <strong>Спортивное программирование в ЯрГУ</strong>
  <p><a href="https://codeforces.com/group/w0J26SHHez/contests" target="_blank">Codeforces ЯрГУ. Студенты</a></p>
  <p><a href="https://vk.com/yaracm" target="_blank">https://vk.com/yaracm</a></p>
  <p><a href="https://vkvideo.ru/@yaracm" target="_blank">vkvideo.ru/@yaracm</a></p>
</article>


<article class="article">
  <h1>Занятие 6. Базовые алгоритмы 1. Префикс функции</h1>
  <p>Конспект видео</p>
  <p><a href="https://codeforces.com/group/w0J26SHHez/contest/403041" target="_blank">Codeforces Контест 403041</a></p>
</article>


<!-- Содержание -->
<article class="article">
  <h2>Содержание</h2>

  <p>
        <a href="#p1">Базовые алгоритмы 1. Префикс функции</a>
    <br><a href="#t1">Задача 1. Массовое обновление элементов</a>
  </p>
  <p>
        Задача A. Трудная задача
    <br>Задача B. Интервалы
    <br>Задача C. Сумма чисел в массиве
    <br>Задача D. Массивные запросы
    <br>Задача E. Илья и запросы
    <br>Задача F. Дорога домой
    <br>Задача G. Битые сектора
    <br>Задача H. Шифрование сообщений
    <br>Задача I. Егор и массив
    <br>Задача J. Злобный гений
    <br>Задача K. Pekora и батуты
    <br>Задача L. Also Try Minecraft
    <br>Задача M. Девочка и максимальная сумма
    <br>Задача N. Верстовые столбы
    <br><a href="#task15">Задача O. Призы</a>
  </p>
</article>


<!-- Базовые алгоритмы 1. Префикс функции -->
<article class="article">
  <div class="anchor" id="p1"></div>
  <h3>Базовые алгоритмы 1. Префикс функции</h3>

  <p>Мы знаем одномерную префикс-сумму, двумерную префикс-сумму. Рассмотрим теперь задачу массового обновления элементов.</p>
  <p>Еще есть задача по имеющейся префикс функции найти исходный массив. Например, дан массив с префикс-суммой B, найти исходный массив A. Тогда каждый элемент массива A равен</p>
  <code>A[i] = B[i] - B[i - 1];</code>
</article>


<!-- Задача 1. Массовое обновление элементов -->
<article class="article">
  <div class="anchor" id="t1"></div>
  <h3>Задача 1. Массовое обновление элементов</h3>

  <p>Пусть у нас есть элементы от a₁ до aₙ в массиве A.</p>
  <code>A = {a₁ , a₂ , a₃ , a₄ , ... , aₙ}</code>
  <p>Нам необходимо делать массовое обновление от элемента с номером l до элемента с номером r. Например прибавить к этим элементам значение h. Заведем массив C.</p>
  <code>C = {c₁ , c₂ , c₃ , c₄ , ... , cₙ}</code>
  <p>Если в ячейку cᵢ прибавить значение h, то начиная с ячейки номер i и до бесконечности все элементы мы увеличиваем на значение h. В одной ячейке мы храним все массивые обновления начиная с нее и до конца массива.</p>
  <code>cᵢ += h;</code>
  <p>Если нужно изменить значение не до конца, а до какого то элемента r, то операция cᵢ += h увеличит значение на нужном отрезке от i до r и на не нужном отрезке от r и до конца массива. Теперь чтобы вернуть значения на не нужном отрезке надо у элемента r+1 сделать обратную операцию, то есть вычесть значение h.</p>
  <code>c<sub>r+1</sub> -= h.</code>
  <p>Теперь если у нас есть q операций для изменения массива на отрезке.Мы можем сразу сделать все операции.</p>
<pre>
for (int i = 0; i &lt; q; i++) {
  cin >> l >> r;
  r++;
  cin >> h;
  C[l] += h;
  C[r] -= h;
}
</pre>
  <p>После q запросов мы сразу получим все наши обновления в одном массиве C. И мы сразу можем применить все обновления к нашему вектору A. В результате получим вектор B в котором будет ответ на нашу задачу.</p>
<pre>
for (int i = 1; i &lt;= n; i++) {
  C[i] += C[i-1];
  B[i] = A[i] + C[i];
}
</pre>
</article>


<!-- Задача Задача O. Призы -->
<article class="article">
  <div class="anchor" id="task15"></div>
  <h3>Задача Задача O. Призы</h3>
</article>

