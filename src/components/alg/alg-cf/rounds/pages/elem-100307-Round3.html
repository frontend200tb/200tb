<article class="article">
  <a href="https://codeforces.com/contest/3" target="_blank">Codeforces 3 Round 3 Beta 2010-03-07</a>
</article>


<!-- Содержание -->
<article class="article">
  <h2>Содержание</h2>

      <a href="#task1">Задача A. Кратчайший путь короля</a>
  <br><a href="#task2">Задача B. Грузовик</a>
  <br><a href="#task3">Задача C. Крестики-нолики</a>
  <br><a href="#task4">Задача D. Скобочная последовательность</a>
</article>


<!-- Задача A. Кратчайший путь короля -->
<article class="article">
  <div class="anchor" id="task1"></div>
  <h3>Задача A. Кратчайший путь короля</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 64мб</i></div>

  <p>Одинокий король остался совсем один на шахматной доске. Несмотря на одиночество, он вовсе не унывает — ведь ему еще надо сделать так много дел государственной важности. Например, ему надо совершить официальный визит в клетку t. Так как король не привык терять попусту время, он хочет добраться от своего местоположения s до клетки t за наименьшее число ходов. Помогите ему это сделать.</p>

  <p>Король за один ход может переместиться на любую клетку, которая по стороне или углу граничит с текущей (их в общем случае 8).</p>

  <h4>Входные данные</h4>
  <p>В первой строке входных данных заданы шахматные координаты клетки s, а во второй — клетки t.</p>

  <p>Шахматные координаты состоят из двух символов, один из которых это строчная буква латинского алфавита (от a до h), а второй — цифра от 1 до 8.</p>

  <h4>Выходные данные</h4>
  <p>В первую строку выведите n — минимальное число ходов короля. Далее в n строк выведите сами ходы. Каждый ход описывается одной из восьми строк: L, R, U, D, LU, LD, RU или RD.</p>

  <p>L, R, U, D, соответственно, означают ходы влево, вправо, вверх и вниз (согласно рисунку), двухбуквенные обозначения соответствуют диагональным ходам. Если решений несколько, выведите любое.</p>

  <details>
    <summary>Пример</summary>
<pre>
a8
h1
</pre>
<pre>
7
RD
RD
RD
RD
RD
RD
RD
</pre>
  </details>

  <details>
    <summary>Решение</summary>
<pre>
#include &lt;iostream&gt;
#include &lt;vector&gt;

using namespace std;

int main() {
  // ввод данных
  string s; // начальная клетка
  string t; // конечная клетка
  cin >> s >> t;

  // решение
  // достанем из строки координаты клетки
  char let = s[0];
  char dig = s[1];
  char let2 = t[0];
  char dig2 = t[1];


  // в задаче надо найти минимальное число ходов
  // короля из начальной в конечную клетку
  int step = 0;
  vector&lt;string&gt; Steps;

  while (let != let2 || dig != dig2) {

    if (let == let2 && dig2 > dig) {
      dig++;
      step++;
      Steps.push_back("U");
    }

    if (let2 > let && dig2 > dig) {
      let++;
      dig++;
      step++;
      Steps.push_back("RU");
    }

    if (let2 > let && dig2 == dig) {
      let++;
      step++;
      Steps.push_back("R");
    }

    if (let2 > let && dig > dig2) {
      let++;
      dig--;
      step++;
      Steps.push_back("RD");
    }

    if (let == let2 && dig > dig2) {
      dig--;
      step++;
      Steps.push_back("D");
    }

    if (let > let2 && dig > dig2) {
      let--;
      dig--;
      step++;
      Steps.push_back("LD");
    }

    if (let > let2 && dig == dig2) {
      let--;
      step++;
      Steps.push_back("L");
    }

    if (let > let2 && dig2 > dig) {
      let--;
      dig++;
      step++;
      Steps.push_back("LU");
    }

  }

  // вывод результата
  cout &lt;&lt; step &lt;&lt; '\n';
  for (int i = 0; i &lt; Steps.size(); i++) {
    cout &lt;&lt; Steps[i] &lt;&lt; '\n';
  }
}
</pre>
  </details>
</article>


<!-- Задача B. Грузовик -->
<article class="article">
  <div class="anchor" id="task2"></div>
  <h3>Задача B. Грузовик</h3>

  <div><i>Ограничение по времени 2с
  <br>Ограничение по памяти 64мб</i></div>

  <p>Группа туристов собирается в водный поход. На лодочную базу прибыл арендованный грузовик, в который будут погружены байдарки и катамараны, а затем доставлены на место отправления. Известно, что все байдарки равны по размерам между собой (и занимают 1 куб. метр пространства), а катамараны равны по размерам между собой и в два раза больше байдарки (и занимают 2 куб. метра пространства).</p>

  <p>Каждое плавсредство обладает некоторой грузоподъемностью, причем даже неотличимые с виду плавсредства могут обладать разной грузоподъемностью.</p>

  <p>По заданному объему кузова грузовика и списку плавсредств (для каждого известен его тип и грузоподъемность) определите набор, который можно перевести и который обладает максимальной возможной грузоподъемностью. Объем кузова грузовика можно использовать максимально эффективно, то есть в кузов всегда можно погрузить плавсредство объемом не превышающее свободный объем кузова.</p>

  <h4>Входные данные</h4>
  <p>В первой строке записана пара целых чисел n и v (1 ≤ n ≤ 10⁵; 1 ≤ v ≤ 10⁹), где n это количество плавсредств на лодочной базе, а v — объем кузова грузовика в кубических метрах. Следующие n строк содержат описания плавсредств. Каждое описание это пара чисел tᵢ, pᵢ (1 ≤ tᵢ ≤ 2; 1 ≤ pᵢ ≤ 10⁴), где tᵢ это тип плавсредства (1 — байдарка, 2 — катамаран), а pᵢ его грузоподъемность. Плавсредства нумеруются с единицы в порядке их появления во входном файле.</p>

  <h4>Выходные данные</h4>
  <p>В первую строку выведите искомую максимальную грузоподъемность набора. Во вторую строку выведите номера плавсредств, которые составляют оптимальный набор. Если решений несколько, выведите любое.</p>

  <details>
    <summary>Пример</summary>
<pre>
3 2
1 2
2 7
1 3
</pre>
<pre>
7
2
</pre>
  </details>
</article>


<!-- Задача C. Крестики-нолики -->
<article class="article">
  <div class="anchor" id="task3"></div>
  <h3>Задача C. Крестики-нолики</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 64мб</i></div>

  <p>Все, наверное, знакомы с игрой крестики-нолики. Правила в самом деле очень просты. Игроки по очереди ставят на свободные клетки поля 3 x 3 знаки (один всегда крестики, другой всегда нолики). Первый, выстроивший в ряд три своих фигур по вертикали, горизонтали или диагонали, выигрывает и игра заканчивается. Первый ход делает игрок, ставящий крестики. В том случае, если все поле заполнено, но никакие три фигуры в ряд не стоят, то объявляется ничья.</p>

  <p>Вам задано поле 3 x 3, на котором каждая клетка свободна или занята крестиком или ноликом. Ваша задача указать игрока (first или second), ход которого ожидается или вывести один из четырех вердиктов:</p>
  <ul>
    <li>illegal — если заданная игровая позиция не может появиться в ходе игры, т.е. является некорректной;</li>
    <li>the first player won — если в заданной игровой позиции первый игрок только что победил;</li>
    <li>the second player won — если в заданной игровой позиции второй игрок только что победил;</li>
    <li>draw — если в заданной игровой позиции только что наступила ничья.</li>
  </ul>

  <h4>Входные данные</h4>
  <p>Входные данные состоят из трех строк, каждая из которых содержит по три символа: «.», «X» или «0» (точку, заглавную букву X или ноль).</p>

  <h4>Выходные данные</h4>
  <p>Выведите один из шести вердиктов: first, second, illegal, the first player won, the second player won или draw.</p>

  <details>
    <summary>Пример</summary>
<pre>
X0X
.0.
.X.
</pre>
    <code>second</code>
  </details>
</article>


<!-- Задача D. Скобочная последовательность -->
<article class="article">
  <div class="anchor" id="task4"></div>
  <h3>Задача D. Скобочная последовательность</h3>

  <div><i>Ограничение по времени 1с
  <br>Ограничение по памяти 64мб</i></div>

  <p>Перед вами еще одна задача на правильные скобочные последовательности.</p>

  <p>Напомним, что скобочная последовательность называется правильной, если путем вставки в нее символов «+» и «1» можно получить из нее корректное математическое выражение. Например, последовательности «(())()», «()» и «(()(()))» — правильные, в то время как «)(», «(()» и «(()))(» — нет.</p>

  <p>Вам задан шаблон скобочной последовательности, в котором присутствуют символы «(», «)» и «?». Вам надо заменить каждый символ «?» на скобку таким образом, чтобы получилась правильная скобочная последовательность.</p>

  <p>Для каждого символа «?» в шаблоне известна стоимость замены его на «(» и «)». Ваша задача из всех возможных вариантов выбрать самый дешевый вариант.</p>

  <h4>Входные данные</h4>
  <p>В первой строке входного файла записан непустой шаблон четной длины, состоящий из символов «(», «)» и «?». Его длина не превосходит 5·10⁴. Далее содержится m строк, где m — количество символов «?» в шаблоне. Каждая строка состоит из двух целых чисел aᵢ и bᵢ (1 ≤ aᵢ, bᵢ ≤ 10⁶), где aᵢ стоимость замены i-го символа «?» на открывающуюся скобку, а bᵢ — на закрывающуюся.</p>

  <h4>Выходные данные</h4>
  <p>В первую строку выведите стоимость искомой последовательности. Во вторую выведите искомую последовательность.</p>

  <p>Если решения не существует, выведите -1. Если решений несколько, выведите любое.</p>

  <details>
    <summary>Примеры</summary>
<pre>
(??)
1 2
2 8
</pre>
<pre>
4
()()
</pre>
  </details>
</article>

