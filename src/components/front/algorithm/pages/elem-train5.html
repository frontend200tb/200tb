<h1>Тренировки по алгоритмам 5.0 (2024.03.29)</h1>


<!-- Содержание -->
<div class="article">
  <h2>Содержание</h2>
  <p><a href="#train">Тренировки по алгоритмам от Яндекс (Михаил Густокашин)</a></p>
</div>


<!-- Тренировки по алгоритмам от Яндекс (Михаил Густокашин) -->
<article class="article">
  <div class="anchor" id="train"></div>
  <h3>Тренировки по алгоритмам от Яндекс (Михаил Густокашин)</h3>

  <p>Чего хотят на алгоритмическом собеседовании (и в реальной жизни)?</p>
  <ol>
    <li>Умения писать работаюдий код</li>
    <li>Умения тестировать свой код</li>
    <li>Умения писать эффективный код</li>
  </ol>

  <h3>Задача 1. Самый частый символ</h3>
  <p>Дана строка (в кодировке UTF-8), найти самый часто встречающийся в ней символ. Если таких символов несколько - найти любой.</p>

  <p>Решение 1. O(n^2)</p>
  <p>Переберем все позиции и для каждой позиции в строке еще раз переберем все позиции и в случае совпадения прибавим к счетчику единицу. Найдем максимальное значение счетчика.</p>

  <p>Решение 2. O(n*k)</p>
  <p>Переберем все символы, встречающиеся в строке, а затем переберем все позиции и в случае совпадения прибавим к счетчику единицу. Найдем максимальное значение счетчика.</p>

  <p>Решение 3. O(n+k) = O(n)</p>
  <p>Заведем словарь, где ключом является символ, а значением - сколько раз он встретился. Если символ встретился впервые - создаем элемент словаря с ключом, совпадающим с этим символом и значением ноль. Прибавляем к элементу словаря с ключом, совпадающим с этим символом, единицу</p>

  <h3>Задача 2. Максимальный элемент</h3>
  <p>Найти максимальный элемент в массиве.</p>

  <p>Решение.</p>
  <p>Сначала нужно в ответ положить нулевой элемент массива. Потом пройтись по всем элементам массива и сравнивая их с ответом, присвоивать ответу большее значение. В конце надо вернуть ответ.</p>

  <h3>Задача 3. Второй по величине элемент</h3>
  <p>Найти второе по величине число (такое, которое будет максимальным, если вычеркнуть из последовательности одно максимальное число)</p>

  <p>Решение.</p>
  <p>Заведем две переменные max для максимального числа и max2 для второго по величине числа. Сравним первые два числа и запишем одно в max, другое в max2. Проходим по всем числам и сначала сравниваем число now с первым максимумом. Если now больше max, то max записываем в max2, а now записываем в max, при этом предыдущее значение max2 теряется. Если now меньше max, то сравниваем now со вторым максимумом. Если now больше max2, то записываем now в max2, при этом предыдущее значение max2 также теряется.</p>

  <h3>Задача 4. Минимальное четное число</h3>
  <p>Найти минимальное четное число в последовательности, вывести -1, если ни одного четного нет.</p>

  <p>Решение.</p>
  <p>Сначала положим в ответ -1. Если четного числа не будет, то вернется -1, как и нужно из условия задачи. Проходим по всем числам и сначала проверяем что число четное (остаток от деления на 2 равен 0) и в ответе лежит -1 или это число меньше чем в ответе. Тогда присваиваем ответу новое число.</p>

  <h3>Задача 5. Поиск минимума и максимума одновременно</h3>
  <p>Найти одновременно минимум и максимум, используя как можно меньше сравнений.</p>

  <p>Решение 1.</p>
  <p>Два раза проходим по всем числам. Первый раз ищем минимум. Второй раз ищем максимум. Это займет 2n операций.</p>

  <p>Решение 2.</p>
  <p>Разобьем все числа по парам. Сравнивая числа в каждой паре выбираем меньшее и большее из двух чисел. Это можно сделать за одно сравнение. Эта операция займет n/2 сравнений. Теперь минимум будем искать среди минимальных элементов, а максимум среди ма. Это два линейных поиска по n/2 элементам. Таким образом для решения мы затратим 3n/2 операций, что на n/2 операций меньше чем в первом решении.</p>

  <h3>Задача 5. Барьерный элемент</h3>
  <p>Найти индекс вхождения числа x в последовательность или вывести n (длину последовательности), если не нашлось</p>

  <p>Решение</p>
  <p>Записываем в конец последовательности элемент x, который надо найти. Проходим по массиву и если элемент встретится, то выводим его индекс. Если изначално элемента в массиве не было, то вернется индекс последнего элемента (равный длине начального массива), в который мы положили x. Это идея барьерного элемента, когда мы заранее задаем некий барьер и обходимся обычным линейным поиском без каких либо булевых переменных и лишних проверок. Мы приделали барьер на который линейный поиск напорится и выведет нужное число.</p>

  <h3>Задача 6. Соседние элементы в двумерных массивах</h3>
  <p>Найти соседние элементы в двумерном массиве из n на n элементов</p>

  <p>Решение.</p>
  <p>Будем использовать массив сдвигов. Для крайнев случаев, когда клетка прижата к краю или в углу мы можем выйти за пределы массива. А чтобы не выйти за пределы массива будем использовать барьерный метод. Создаем новый двумерный массив, который на 2 больше по каждому измерению и заполняем его рамочку значением барьера, например -1. А исходный массив будет внутри нового массива с барьером. Теперь когда мы проверяем крайние клетки, вместо того чтобы смотреть существует ли массив в соседней клетке, мы можем проверить на наличие в клетке барьерного чилса. И если в клетке барьерное число, то мы ее не анализируем. Например, надо найти клетку, которая больше всех своих соседей. Тогда клетки с -1 не участвуют в сравнениях.</p>

  <h3>Задача 7. Сапер</h3>
  <p>Даны координаты мин на поле, вывести поле для игры в сапер. Мины пометить звездочкой, а в поле без мин вывести число, равное количеству мин в соседних 8 клетках.</p>

  <p>Решение.</p>

  <h3>Задача 8. pitcraft</h3>
  <p>Остров игрока представляет собой набор столбцов различной высоты, состоящих из блоков камня и окруженный морем. Над островом прошел сильный дождь, который заполнил водой все низины. Определите, сколько блоков воды осталось после дождя в низинах на острове.</p>

  <p>Решение.</p>
  <p>Если вершина одна, то выбираем вершину. Слева от нее вода будет стекать в море, заполняя собой все впадины. И справа от нее вода будет стекать в море заполняя собой все впадины. Если вершин несколько, то между ними останется вода во впадинах, а слева и справа вода будет стекать в море.</p>

  <h3>Задача 9. RLE</h3>
  <p>Дана строка (возможно, пустая), состоящая из букв A-Z. Нужно сжать строку. Если буква встречается более одного раза подряд, то рядом с буквой писать число сколько раз она встречается подряд. Написать функцию RLE, которая на выходе даст строку вида - буква и цифра, означающая сколько букв подряд идет, затем следующая буква и т.д.</p>
  <p>Пример, на входе AAAABBBCCXYZDDDD. на выходе A4B3C2XYZD4</p>

  <p>Решение.</p>

  <h3>Задача 10. Газон</h3>
  <p>Трава пострижена в прямоугольнике с углами (x1, y1) и (x2, y2). В каждой целой точке растет пучок травы. Круговой дождеватель установлен в (x3, y3), радиус r. Сколько пучков пострижено и полито?</p>

  <p>Решение 1. Неэффективное. Перебрать все пучки травы</p>
  <p>Постриженые пучки травы находятся в прямоугольнике, а политые в круге. Надо найти пересечение этих фигур. И в этом пересечении будут пучки, которые и пострижены и политы. Проверим что точка лежит внутри прямоугольника, то есть х координата лежит между x1 и x2, а y координата лежит между y1 и y2. Проверим что точка лежит внутри круга по теореме Пифагора. (x - x3)^2 + (y - y3)^2 должно быть меньше или равно r^2.</p>

  <p>Решение 2. Чуть лучше. Перебрать пучки травы только внутри прямоугольника</p>
  <p>Мы будем знать что наши пучки все пострижены и будем проверять только то что они политы или нет. В худшем случае, когда весь участок пострижен, это не даст нам ускорения. Но в среднем случае даст.</p>

  <p>Решение 3. Правильное.</p>
  <p>Если прямоуголькик и круг не пересакаются, то возвращаем 0. Если пересекаются, то находим максимум левого x прямоуголькика и левого x круга, затем находим минимум между правого x прямоугольника и правого x круга. Между этими значениями будут x координаты нужных пучков. Находим минимум верхнего y прямоугольника и верхнего y круга, затем находим максимум нижнего y прямоугольника и нижнего y круга. Между этими значениями будут y координаты нужных пучков.</p>

  <h3>Задача 11. Покраска деревьев</h3>
  <p>Вася красит деревья с номерами [P - V, P + V]. Маша красит деревья с номерами [M - Q, M + Q]. Сколько деревьев они покрасят?</p>

  <p>Решение.</p>
  <p>Ключевые идеи.</p>
  <ol>
    <li>Заводить множества или списки нельзя - большие входные данные</li>
    <li>Если отрезки пересекаются - берем длину от максимума из левых границ до максимума из правых границ</li>
    <li>Если отрезки не пересекаются - берем сумму длин отрезков</li>
    <li>Как проверить пересечение?</li>
  </ol>

  <h3>Задача 12. Футбольный комментатор</h3>
  <p>Известен счет в домашнем и гостевом матче. В случае равного голов у команд побеждает та, у которой больше голов в гостях. Сколько голов надо забить первой команде во втором матче чтобы победить?</p>
</article>





