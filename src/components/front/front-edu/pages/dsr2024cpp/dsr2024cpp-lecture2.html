<article class="article">
	<div id="link-to-dsr2024cpp" class="btn-back">назад</div>

  <h1>Лекция 2 (23.09.2024)</h1>
</article>


<article class="article">
  <p>Лекцию читает Коток Игорь Дмитриевич</p>

</article>


<!-- Лекция 2 (23.09.2024) -->
<article class="article">
  <div class="anchor" id="l2"></div>
  <h3>Лекция 2 (23.09.2024)</h3>

  <h4>Неявные преобразования типов</h4>
  <p>bool принимает другой тип</p>
  <code>bool flag_1 = 3; // true</code>
  <code>bool flag_2 = 2.5; // true</code>
  <code>bool flag_3 = 0; // false</code>
  <p>другой тип приниимает bool</p>
  <code>int var_int = true; // 1</code>
  <code>double var_double = false; // 0.00000</code>
  <p>целочисленное принимает вещественное</p>
  <code>int var_int_1 = 3.4; // 3</code>
  <code>int var_int_2 = 6.7; // 6</code>
  <p>вещественное принимает целочисленное</p>
  <code>float var_float = 324234222; // 324234208</code>
  <code>double var_double = 120000000000000011; // 1.2000000000000002e+17</code>
  <p>Если целое число содержит больше битов, чем может вместить тип переменной, то часть информации усекается</p>
  <p>беззнаковые переменные принимают выходящие из диапазона</p>
  <code>unsigned char a = -5; // 251</code>
  <code>unsigned short b = -12; // 65524</code>
  <code>int c = -1; // 4294967295</code>

  <h4>Безопасные преобразования</h4>
  <p>bool - char - short - int - double - long double</p>
  <p>bool - char - short - int - long - long long</p>
  <p>unsigned char - unsigned short - unsigned int - unsigned long</p>
  <p>float - double - long double</p>
  <p>В арифметических операциях из двух типов выбирается максимальный и к нему приводится наименьший из них</p>

  <h4>Явные преобразования типов</h4>
  <h4>static_cast&lt;type&gt;(value)</h4>
  <p>Дальнобойщик проехал расстояние 130.21км со средней скоростью 8 км/ч. Сколько часов необходимо оплатить ему за проделанную поездку?</p>
<pre>
double distance{ 130.21 };
unsigned int speed{ 8 };
unsigned int hours{ static_cast<unsigned int>(distance / speed) } // hours = 16
// unsigned int hours{ (unsigned int) (distance / speed) }; // hours = 16
std::cout &lt;&lt; "Затрачено часов = " &lt;&lt; hours &lt;&lt; std::endl;
</pre>

  <h4>Базовые арифметические операции</h4>
  <p>Сложение a + b</p>
  <p>Вычитание a - b</p>
  <p>Умножение a * b</p>
  <p>Деление a / b</p>
  <p>Остаток от деления a % b</p>

  <h4>Операторы присваивания</h4>
  <p>a += b</p>
  <p>a -= b</p>
  <p>a *= b</p>
  <p>a /= b</p>
  <p>a %= b</p>

  <h4>Инкремент и декремент</h4>
  <p>префиксный инкремент ++a</p>
  <p>постфиксный инкремент a++</p>
  <p>префиксный декремент --a</p>
  <p>постфиксный декремент a--</p>

  <h4>Внимание подстава!</h4>
<pre>
int a{ 3 };
int new_a{ --a };
std::cout &lt;&lt; "a = " &lt;&lt; a &lt;&lt; std::endl; // a = 2
std::cout &lt;&lt; "new_a = " &lt;&lt; new_a &lt;&lt; std::endl; // new_a = 2
</pre>
<pre>
int b{ 1 };
int new_b{ ++b * 3 + b++ * 5 };
std::cout &lt;&lt; "b = " &lt;&lt; b &lt;&lt; std::endl; // b = 3
std::cout &lt;&lt; "new_b = " &lt;&lt; new_b &lt;&lt; std::endl; // new_b = 16
</pre>

  <h4>Приоритет операций</h4>
  <ol>
    <li>++, -- (инкремент, декремент)</li>
    <li>* (умножение), / (деление), % (остаток от деления)</li>
    <li>+ (сложение), - (вычитание)</li>
  </ol>

  <h4>Неоднозначный пример</h4>
<pre>
int b{ 1 };
int new_b{ ++b * 3 + b++ * 5 };
std::cout &lt;&lt; "b = " &lt;&lt; b &lt;&lt; std::endl; // b = 3
std::cout &lt;&lt; "new_b = " &lt;&lt; new_b &lt;&lt; std::endl; // new_b = 16
</pre>

  <h4>Операции сравнения</h4>
  <p>a == b равно</p>
  <p>a &lt; b меньше</p>
  <p>a &lt;= b меньше или равно</p>
  <p>a &gt; b больше</p>
  <p>a &gt;= b больше или равно</p>
  <p>a != b не равно</p>

  <h4>Операции сравнения</h4>
  <code>int a{ 8 }, b{ 11};</code>
  <code>bool F1{ a == b }; // false</code>
  <code>bool F2{ a &lt; b }; // true</code>
  <code>bool F3{ a &lt;= b }; // true</code>
  <code>bool F4{ a &gt; b }; // false</code>
  <code>bool F5{ a &gt;= b }; // false</code>
  <code>bool F6{ a != b }; // true</code>
  <code>std::cout &lt;&lt; "F1 = " &lt;&lt; std::boolalpha &lt;&lt; F1 &lt;&lt; std::endl;</code>
  <code>std::cout &lt;&lt; "F2 = " &lt;&lt; std::boolalpha &lt;&lt; F2 &lt;&lt; std::endl;</code>

  <h4>Логические операции</h4>
  <p>!a отрицание</p>
  <p>a && b И</p>
  <p>a || b ИЛИ</p>
  <p>a ^ b Исключающее ИЛИ</p>

  <h4>Логические операции</h4>
  <code>int a{ 8 }, b{ 11};</code>
  <code>bool F1( a == b && b > 3 }; // false</code>
  <code>bool F2( a != b || a == 3 }; // true</code>
  <code>std::cout &lt;&lt; "F1 = " &lt;&lt; std::boolalpha &lt;&lt; F1 &lt;&lt; std::endl;</code>
  <code>std::cout &lt;&lt; "F2 = " &lt;&lt; std::boolalpha &lt;&lt; F2 &lt;&lt; std::endl;</code>

  <h4>Определение оператора</h4>
  <p>if</p>
<pre>
int a{ 8 }, b{ 11};
if (a > b)
{
  std::cout &lt;&lt; "a > b\n";
}
</pre>
  <p>if - else</p>
<pre>
int a{ 8 }, b{ 11};
if (a > b)
{
  std::cout &lt;&lt; "a > b\n";
}
else
{
  std::cout &lt;&lt; "a &lt;= b\n";
}
</pre>
  <p>if - else if - else</p>
<pre>
int a{ 8 }, b{ 11};
if (a > b)
{
  std::cout &lt;&lt; "a > b\n";
}
else if (a &lt; b)
{
  std::cout &lt;&lt; "a &lt; b\n";
}
else
{
  std::cout &lt;&lt; "a == b\n";
}
</pre>

  <h4>Тернарный оператор</h4>
  <code>a > b ? a++ : b++;</code>

  <h4>Задача 1</h4>
  <p>Определить по введенным пользователем координатам попадания выстрела в мишень количество набранных очков</p>
  <p>3 очка если попали в круг радиусом 5 с центром в (0, 0)</p>
  <p>2 очка если попали в круг радиусом 10</p>
  <p>1 очко если попали в круг радиусом 15</p>

  <h4>Решение</h4>
  <h4>Инициализация и заполнение переменных</h4>
<pre>
double x{}, y{};
int score{};

std::cout &lt;&lt; "Введите координаты выстрела\n";
std::cin >> x >> y;
</pre>
  <h4>Проверка на попадание</h4>
<pre>
if (x * x + y * y &lt;= 5)
{
  score = 3;
}
else if (x * x + y * y &lt;= 10)
{
  score = 2;
}
else if (x * x + y * y &lt;= 15)
{
  score = 1;
}
</pre>
  <h4>Вывод результатов работы</h4>
<pre>
if (score > 0)
{
  std::cout &lt;&lt; "Поздравляем! Вы выбили - " &lt;&lt; score &lt;&lt; "\n";
}
else{
  std::cout &lt;&lt; "Вы промахнулись, нужно стараться лучше\n";
}
</pre>
  <h4>Имеет ли право на жизнь?</h4>
<pre>
if (score)
{
  std::cout &lt;&lt; "Поздравляем! Вы выбили - " &lt;&lt; score &lt;&lt; "\n";
}
else{
  std::cout &lt;&lt; "Вы промахнулись, нужно стараться лучше\n";
}
</pre>

  <h4>Задача 2</h4>
  <p>Составить программу для вычисления значения площади заштрихованной области, если точка с заданными координатами (x, y) попадает в эту область. В противном случае вывести соответствующее сообщение</p>
  <p>Большой круг радиусом 3 с центром в (0, 0). Малкенький круг с радиусом 1.5 с центром в (0, 1.5)</p>

  <h4>Решение</h4>
<pre>
#define _USE_MATH_DEFINES
#include &lt;cmath&gt;
#include &lt;iostream&gt;

int main()
{
  double x{}, y{}, s{};

  std::cout &lt;&lt; "Введите x и y" &lt;&lt; std::endl;
  std::cin >> x >> y;

  if (x * x + y * y &lt;= 9 && x * x + (y + 1.5) * (y + 1.5) >= 2.25)
  {
    std::cout &lt;&lt; "Площадь равна " &lt;&lt; M_PI * 9 - M_PI * 2.25;
  }
  else
  {
    std::cout &lt;&lt; "Вы не попали в область" &lt;&lt; std::endl;
  }
}
</pre>

  <h4>Определение switch case</h4>
<pre>
switch (/*выражение*/)
{
  case // значение1: инструкции1; break;
  case // значение2: инструкции2; break;
  default: // инструкции;
}
</pre>
  <h4>Пример реализации</h4>
<pre>
int counter{ 2 };

switch (counter)
{
  case 1:
    std::cout &lt;&lt; "counter = 1" &lt;&lt; std::endl;
    break;
  case 2:
    std::cout &lt;&lt; "counter = 2" &lt;&lt; std::endl;
    break;
  case 3:
    std::cout &lt;&lt; "counter = 3" &lt;&lt; std::endl;
    break;
  default:
    std::cout &lt;&lt; "counter is undefined" &lt;&lt; std::endl;
    break;
}
</pre>

  <h4>Задача 3</h4>
  <p>Требуется написать программу, которая принимает с клавиатуры координаты точки на плоскости (x, y - вещественные числа) и определяет принадлежность точки заштрихованной области, включая ее границы</p>
  <p>Область на плоскости лежит между графиками двух функций. Ниже y = 2 - x*x. Выше y = x</p>
  <p>Пояснение</p>
  <p>Нужно отдельно проверить через switch попадание в области C и G. Пользователю выводится меню, где указано "Чтобы проверить точку G введите 1" и т.д. switch обрабатывает запрос пользователя и выдает результат проверки на попадание в запрашиваемую область</p>

  <h4>Решение</h4>
<pre>
#include &lt;iostream&gt;

int main()
{
  double x{}, y{}, s{};

  std::cout &lt;&lt; "Введите x и y" &lt;&lt; std::endl;
  std::cin >> x >> y;

  std::cout &lt;&lt; "Чтобы проверить всю область, нажмите 1" &lt;&lt; std::endl;
  std::cout &lt;&lt; "Чтобы проверить область C, нажмите 2" &lt;&lt; std::endl;
  std::cout &lt;&lt; "Чтобы проверить область G, нажмите 3" &lt;&lt; std::endl;

  int command{};

  std::cout &lt;&lt; "Введите команду" &lt;&lt; std::endl;
  std::cin >> command;

  switch (command)
  {
    case 1:
      if (x&lt;=0 && y>=x && y &lt;= 2-x*x || x>0 && y&lt;=2-x*x && y>=0)
      {
        std::cout &lt;&lt; "Вы попали в закрашенную область\n";
      }
      else
      {
        std::cout &lt;&lt; "Вы не попали в закрашенную область\n";
      }
      break;
    case 2:
      if (y&lt;=x && y&lt;=2-x*x && x>0 && y>=0)
      {
        std::cout &lt;&lt; "Вы попали в область C\n";
      }
      else
      {
        std::cout &lt;&lt; "Вы не попали в область C\n";
      }
      break;
    case 3:
      if (y&lt;=x && y>=2-x*x && y&lt;=0)
      {
        std::cout &lt;&lt; "Вы попали в область G\n";
      }
      else
      {
        std::cout &lt;&lt; "Вы не попали в область G\n";
      }
      break;
    default:
      std::cout &lt;&lt; "Вы ввели неправильную команду\n";
  }
}
</pre>
</article>
